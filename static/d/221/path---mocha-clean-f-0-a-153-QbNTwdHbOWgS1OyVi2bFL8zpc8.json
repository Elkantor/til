{"data":{"site":{"siteMetadata":{"title":"TIL"}},"markdownRemark":{"id":"8b13224a-c795-51d9-b8c7-688e212ac8cb","excerpt":"Mocha  is a great way to test JavaScript, but its stack traces are riddled\nwith useless frames from Mocha internals and 3rd-party modulesâ€¦","htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://visionmedia.github.io/mocha"},"children":[{"type":"text","value":"Mocha"}]},{"type":"text","value":" is a great way to test JavaScript, but its stack traces are riddled\nwith useless frames from Mocha internals and 3rd-party modules. Let's try and\nclean it up."}]},{"type":"element","tagName":"p","properties":{"className":["-wide"]},"children":[{"type":"element","tagName":"img","properties":{"src":"https://raw.githubusercontent.com/rstacruz/mocha-clean/gh-pages/comparison.png"},"children":[]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Introducing mocha-clean"}]},{"type":"element","tagName":"h3","properties":{},"children":[]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mocha-clean"}]},{"type":"text","value":" is a plugin for Mocha. It strips away mocha internals,\nnode_modules, absolute paths (based on cwd), and other unneccessary cruft\nfrom stack traces."}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Usage"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Simply invoke Mocha with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"-r mocha-clean"}]},{"type":"text","value":". The easiest way to do this is to add it to your _test/mocha.opts_ file."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"--require mocha-clean\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Installation"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It's available via npm, and works with Mocha 1.x in Node.js and in the browser. The source is available in GitHub: "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/rstacruz/mocha-clean"},"children":[{"type":"text","value":"rstacruz/mocha-clean"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"npm install --save-dev mocha-clean\n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Merging into Mocha?"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A pull request is currently open in Mocha to integrate this functionality into Mocha itself. Check out "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/mochajs/mocha/pull/1564"},"children":[{"type":"text","value":"#1564"}]},{"type":"text","value":" and offer your support and comments."}]}]},"fields":{"slug":"/mocha-clean/"},"frontmatter":{"title":"Cleaner Mocha stack traces","date":"March 06, 2015","description":"Suppress stack trace frames from 3rd-party modules in Mocha.js."}}},"pageContext":{"node_id":"8b13224a-c795-51d9-b8c7-688e212ac8cb","nodeType":"post","title":"Cleaner Mocha stack traces","slug":"/mocha-clean/","previous":{"id":"893ab7b8-7346-57ca-bd25-61875212c0f8","fields":{"slug":"/relative-paths-in-jekyll/"},"frontmatter":{"title":"Relative paths in Jekyll"}},"next":{"id":"44fb9824-1bd6-5a06-b7c5-90abf1d81320","fields":{"slug":"/get-started-with-ansible/"},"frontmatter":{"title":"Get started with Ansible in 2 minutes"}}}}