{"data":{"site":{"siteMetadata":{"title":"TIL"}},"markdownRemark":{"id":"d71a3659-3dd2-5c83-a3eb-2b41a45a3ab3","excerpt":"This is not a replacement for the Arch Wiki  Installation Guide ! Consider this a refresher course. First steps Change keyboard layout If…","htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is not a replacement for the Arch Wiki "},{"type":"element","tagName":"a","properties":{"href":"https://wiki.archlinux.org/index.php/Installation_guide"},"children":[{"type":"text","value":"Installation Guide"}]},{"type":"text","value":"! Consider this a refresher course."}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"First steps"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Change keyboard layout"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you're using different keyboard layout, change it now using "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"loadkeys"}]},{"type":"text","value":". See "},{"type":"element","tagName":"a","properties":{"href":"https://www.archlinux.org/packages/core/x86_64/kbd/files/"},"children":[{"type":"text","value":"kbd"}]},{"type":"text","value":" for a list of available layouts."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"# Changes keyboard layout\n# (Skip this step if you're using the qwerty layout!)\n\nloadkeys dvorak\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Check if you're in UEFI mode"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Check if the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/sys/firmware/efi/efivars"}]},{"type":"text","value":" path exists. If it is, you're using "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UEFI"}]},{"type":"text","value":" mode. If not, you're using "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Legacy"}]},{"type":"text","value":" mode. Most modern devices are using UEFI mode, and this guide assumes you're in UEFI mode."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"# See if this path exists\nls /sys/firmware/efi/efivars\n"}]}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"next-block","properties":{"title":"Let's connect to the Internet."},"children":[]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Go online"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You now need to be online."}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"See if you're online"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You may already be online if you're using wired ethernet. Once you're online, skip this section!"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"ping 8.8.8.8\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Connect to the Internet via Android tethering"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you have an Android phone, this is the easiest way to go online. Connect your phone to your computer, then "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Settings"}]},{"type":"text","value":" → "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Tethering & Mobile Hotspot"}]},{"type":"text","value":" → "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"USB Tethering"}]},{"type":"text","value":" (it's disabled unless your phone is connected). Then connect to it:"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"# Find interface names:\nls /sys/class/net\n\n# Then enable it:\ndhcpcd enp0s26f7u3u3\n#      ^^^^^^^^^^^^^\n#      replace this with the\n#      actual interface name.\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See: "},{"type":"element","tagName":"a","properties":{"href":"https://wiki.archlinux.org/index.php/Android_tethering"},"children":[{"type":"text","value":"Android tethering"}]},{"type":"text","value":". For other ways to go online, see "},{"type":"element","tagName":"a","properties":{"href":"https://wiki.archlinux.org/index.php/Network_configuration"},"children":[{"type":"text","value":"Network configuration"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"next-block","properties":{"title":"Update your system clock."},"children":[]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"System clock"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Update system time"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This will update your system clock through the Internet via NTP (Network Time Protocol)."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"# Enable ntp time updates\ntimedatectl set-ntp true\n"}]}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"next-block","properties":{"title":"Partition your disk."},"children":[]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Disks"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Partition the disks"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It's complicated! I recommend using "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"parted"}]},{"type":"text","value":" for this. See "},{"type":"element","tagName":"a","properties":{"href":"https://wiki.archlinux.org/index.php/Installation_guide#Partition_the_disks"},"children":[{"type":"text","value":"Partition the disks"}]},{"type":"text","value":" "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(wiki.archlinux.org)"}]},{"type":"text","value":" for more info. You'll need to create an "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ext4"}]},{"type":"text","value":" partition."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"parted\n# Important: read the guide above on\n# how to use `parted`!\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Format disks"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Format any "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ext4"}]},{"type":"text","value":" partitions you made using "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mkfs.ext4"}]},{"type":"text","value":". Be sure to replace "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sda1"}]},{"type":"text","value":" with the actual partition."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"# Format a partition as ext4\nmkfs.ext4 /dev/sda1\n#              ^^^^\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Format swaps"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(Optional)"}]},{"type":"text","value":" If you made a swap partition, use "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"mkswap"}]},{"type":"text","value":" to format them. Be sure to replace "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sda3"}]},{"type":"text","value":" with the actual partition."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"# Format a partition as swap space\nmkswap /dev/sda3\n#           ^^^^\n\n# Enable it\nswapon /dev/sda3\n#           ^^^^\n"}]}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"next-block","properties":{"title":"Let's mount the partitions you just made."},"children":[]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Mount the partitions"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Mount the root partition"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Mount the root partition to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/mnt"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"mount /dev/sda1 /mnt\n#          ^^^^\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Mount the EFI partition"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Mount the EFI partition to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/mnt/boot"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"mkdir /mnt/boot\nmount /dev/sda2 /mnt/boot\n#          ^^^^\n"}]}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"next-block","properties":{"title":"Time to actually install Arch Linux."},"children":[]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Installing Arch Linux"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Use your closest mirror"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Edit your mirror list, and move the geographically-closest location to you up the list. Don't skip this step­it'll be the difference between a 30-minute install and a 5-minute install!"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Find your closest country, and bring it up\nvi /etc/pacman.d/mirrorlist\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Install packages"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Install packages using "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"pacstrap"}]},{"type":"text","value":". This will take a while!"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Make some coffee while this is happening\npacstrap /mnt base\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Configure list of partitions"}]},{"type":"comment","value":" {.-literate-style} "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Generate the list of partitions ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/etc/fstab"}]},{"type":"text","value":") to be mounted at boot time. This will be based on what partitions are already mounted right now."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Generate fstab\ngenfstab -U /mnt >> /mnt/etc/fstab\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Enter the system"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Use "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"arch-chroot"}]},{"type":"text","value":" to \"enter\" the new file system. This will make root path ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/"}]},{"type":"text","value":") be what's in the new partition (until you "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exit"}]},{"type":"text","value":")."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# ~Enter the system~\narch-chroot /mnt\n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Once in chroot"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Set timezone"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Set your timezone (eg, Asia/Manila)\nln -sf /usr/share/zoneinfo/Region/City /etc/localtime\n\n# Update time config (/etc/adjclock)\nhwclock --systohc\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Set up locales"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Uncomment `en_US.UTF-8 UTF-8` in this file\nvi /etc/locale.gen\n\n# Generate locale config (/etc/locale.gen)\nlocale-gen\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Set keyboard layout"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(Optional)"}]},{"type":"text","value":" If you use a different keyboard layout, make it persist on boot."}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"vi /etc/vconsole.conf\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Set it to:"}]},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"KEYMAP=de-latin1\n"}]}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Set hostname"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Update "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/etc/hostname"}]},{"type":"text","value":":"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"echo \"myhostname\" > /etc/hostname\n#     ^^^^^^^^^^ change it to whatever you feel like using\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Update "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/etc/hosts"}]},{"type":"text","value":":"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vi /etc/hosts\n"}]}]},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"127.0.0.1   localhost\n::1     localhost\n127.0.1.1   myhostname.localdomain  myhostname\n"}]}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Change root password"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"passwd\n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Next steps"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Install a boot loader"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It's a long story. See "},{"type":"element","tagName":"a","properties":{"href":"https://wiki.archlinux.org/index.php/GRUB"},"children":[{"type":"text","value":"GRUB"}]},{"type":"text","value":" for details. For example, this was what I had to do with a MacBook Air 2015. It might be diffirent for your system!"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Install grub\nsudo pacman -S grub\n\n# https://wiki.archlinux.org/index.php/GRUB#Installation\ngrub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB\ngrub-mkconfig -o /boot/grub/grub.cfg\n\n# via https://wiki.archlinux.org/index.php/Mac#Setup_bootloader\nbootctl --path=/boot install\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Check out extras"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Set up your user, etc. See: "},{"type":"element","tagName":"a","properties":{"href":"arch_extras.md"},"children":[{"type":"text","value":"arch_extras.md"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Reboot"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Remove the USB stick and reboot. You may need to update your BIOS to boot to your new partition."}]}]},"fields":{"slug":"/arch-linux-installation-summarized/"},"frontmatter":{"title":"Arch Linux installation­Summarized","date":"December 12, 2018","description":null,"attachments":null}}},"pageContext":{"node_id":"d71a3659-3dd2-5c83-a3eb-2b41a45a3ab3","nodeType":"post","title":"Arch Linux installation­Summarized","slug":"/arch-linux-installation-summarized/","next":{"id":"953a3424-db74-5018-8dd2-a92e2ea33c44","fields":{"slug":"/styled-jsx-is-awesome/"},"frontmatter":{"title":"Why I Prefer styled-jsx"}}}}