{"data":{"site":{"siteMetadata":{"title":"TIL"}},"markdownRemark":{"id":"08c36c7b-c6b6-5f1a-bcd6-9b6cf7df09d7","excerpt":"You can make a test script use  grep  and  test  to check for generated output. Since grep will die with an error code if it doesn't matchâ€¦","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can make a test script use "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"grep"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"test"}]},{"type":"text","value":" to check for generated output. Since grep will die with an error code if it doesn't match anything, the test will be considered a failure."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"#!/usr/bin/env sh\nset -o errexit # die on errors\n\ngrep \"<title>\" _site/index.html >/dev/null\ngrep display _site/style.css >/dev/null\ngrep function _site/script.js >/dev/null\ntest -f _site/image.jpg #check for file existence\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Travis support"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can even integrate these with your "},{"type":"element","tagName":"a","properties":{"href":"http://travis-ci.org"},"children":[{"type":"text","value":"Travis-CI"}]},{"type":"text","value":" tests. (Learn more about build configuration from their "},{"type":"element","tagName":"a","properties":{"href":"http://docs.travis-ci.com/user/build-configuration/"},"children":[{"type":"text","value":"documentation"}]},{"type":"text","value":".)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"# .travis.yml\nbefore_script: bundle exec jekyll build\nscript: ./test/test.sh\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Makefiles"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Another good way is to use a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Makefile"}]},{"type":"text","value":" so you can simply use "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"make test"}]},{"type":"text","value":" to invoke tests."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"test: _site\n    grep display _site/style.css >/dev/null\n    grep function _site/script.js >/dev/null\n    test -f _site/image.jpg #check for file existence\n\n_site:\n    bundle\n    bundle exec jekyll build --safe\n"}]}]}],"data":{"quirksMode":false}},"fields":{"slug":"/testing-static-sites/"},"frontmatter":{"title":"Testing generated static sites","date":"May 29, 2015","description":"Ever feel guilty that your Jekyll sites don't have tests? Here's a way around that.","attachments":null}}},"pageContext":{"node_id":"08c36c7b-c6b6-5f1a-bcd6-9b6cf7df09d7","nodeType":"post","title":"Testing generated static sites","slug":"/testing-static-sites/","previous":{"id":"bfec944f-fd8f-5e22-81b6-04806023fe77","fields":{"slug":"/use-vendor-bundle/"},"frontmatter":{"title":"Bundle your gems inside your project"}},"next":{"id":"3b0265af-4ad2-5cf1-ab74-e0a6d618d5c8","fields":{"slug":"/babel-ie-class-inheritance/"},"frontmatter":{"title":"Babel class inheritance in Internet Explorer"}}}}