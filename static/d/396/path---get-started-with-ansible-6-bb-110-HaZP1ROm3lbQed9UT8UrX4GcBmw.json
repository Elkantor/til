{"data":{"site":{"siteMetadata":{"title":"TIL"}},"markdownRemark":{"id":"44fb9824-1bd6-5a06-b7c5-90abf1d81320","excerpt":"Ansible  is a fantastic tool for provisioning servers. I personally prefer it over Chef, Puppet and Salt. Here's how to get an Ansibleâ€¦","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://ansible.com"},"children":[{"type":"text","value":"Ansible"}]},{"type":"text","value":" is a fantastic tool for provisioning servers. I personally prefer it over Chef, Puppet and Salt. Here's how to get an Ansible project started."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Install Ansible"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ansible is officially available via "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"pip"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"brew install ansible            # OSX\n[sudo] pip install ansible      # elsewhere\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Start your project"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Make the directory. Put this under version control, preferrably."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"~$ mkdir setup\n~$ cd setup\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Create an inventory file"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is a list of hosts you want to manage, grouped into groups. (Hint: try\nusing 127.0.0.1 to deploy to your local machine)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-dosini"]},"children":[{"type":"text","value":"# ~/setup/hosts\n\n[sites]\n127.0.0.1\n192.168.0.1\n192.168.0.2\n192.168.0.3\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Create your first Playbook"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A playbook is just a YAML file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"# ~/setup/playbook.yml\n\n- hosts: 127.0.0.1\n  user: root\n  tasks:\n    - name: install nginx\n      apt: pkg=nginx state=present\n\n    - name: start nginx every bootup\n      service: name=nginx state=started enabled=yes\n\n    - name: do something in the shell\n      shell: echo hello > /tmp/abc.txt\n\n    - name: install bundler\n      gem: name=bundler state=latest\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Run it"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ansible-playbook"}]},{"type":"text","value":" command."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"~/setup$ ls\nhosts\nplaybook.yml\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"~/setup$ ansible-playbook -i hosts playbook.yml\nPLAY [all] ********************************************************************\n\nGATHERING FACTS ***************************************************************\nok: [127.0.0.1]\n\nTASK: [install nginx] *********************************************************\nok: [127.0.0.1]\n\nTASK: [start nginx every bootup] **********************************************\nok: [127.0.0.1]\n...\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Further reading"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ansible's source is available via GitHub: "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/ansible/ansible"},"children":[{"type":"text","value":"ansible/ansible"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://lowendbox.com/blog/getting-started-with-ansible/"},"children":[{"type":"text","value":"Getting Started With Ansible"}]},{"type":"text","value":" (lowendbox.com)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://docs.ansible.com/modules.html"},"children":[{"type":"text","value":"Ansible Documentation"}]},{"type":"text","value":" (ansible.com)"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fields":{"slug":"/get-started-with-ansible/"},"frontmatter":{"title":"Get started with Ansible in 2 minutes","date":"November 27, 2013"}}},"pageContext":{"node_id":"44fb9824-1bd6-5a06-b7c5-90abf1d81320","nodeType":"post","title":"Get started with Ansible in 2 minutes","slug":"/get-started-with-ansible/","previous":{"id":"893ab7b8-7346-57ca-bd25-61875212c0f8","fields":{"slug":"/relative-paths-in-jekyll/"},"frontmatter":{"title":"Relative paths in Jekyll"}},"next":{"id":"754ec954-aa69-5301-b659-554e9e574deb","fields":{"slug":"/easy-favicons/"},"frontmatter":{"title":"Easily make favicon.ico"}}}}