<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[TIL]]></title><description><![CDATA[TIL - a collection of things I learned on my day-to-day web development work.]]></description><link>https://ricostacruz.com/tilnext/</link><generator>RSS for Node</generator><lastBuildDate>Thu, 13 Dec 2018 03:23:14 GMT</lastBuildDate><item><title><![CDATA[After installing Arch Linux]]></title><description><![CDATA[These are things I suggest to do after an Arch Linux installation. These are items not covered in the official  Arch Linux Installationâ€¦]]></description><link>https://ricostacruz.com/tilnext//after-installing-arch-linux/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//after-installing-arch-linux/</guid><pubDate>Wed, 12 Dec 2018 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;These are things I suggest to do after an Arch Linux installation. These are items not covered in the official &lt;a href=&quot;https://wiki.archlinux.org/index.php/Installation_guide#Network_configuration&quot;&gt;Arch Linux Installation Guide&lt;/a&gt;, but I strongly suggest you do!&lt;/p&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s get started.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Go online&lt;/h2&gt;&lt;p&gt;For these next steps, we&apos;re going to assume that you&apos;re logged in as your main user, who has &lt;code&gt;sudo&lt;/code&gt; permissions enabled.&lt;/p&gt;&lt;h3&gt;Network connectivity ðŸŒŽ&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Install some networking tools, so we may be able to go online later. &lt;a href=&quot;https://wiki.archlinux.org/index.php/NetworkManager&quot;&gt;NetworkManager&lt;/a&gt; is used by most desktop environments to manage network connections, and can be used in the console as well via &lt;code&gt;nmtui&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;sudo pacman -S networkmanager
sudo systemctl enable NetworkManager
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Try to go online&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Use &lt;code&gt;nmtui&lt;/code&gt; to go online right now using your wifi.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Try it out
sudo systemctl start NetworkManager

# Connect to a wifi
nmtui
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Did it work?&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;This should be enough to get most laptops online. For some others, you may need to install wireless drivers. For instance, MacBooks require &lt;a href=&quot;https://wiki.archlinux.org/index.php/Broadcom_wireless&quot;&gt;Broadcom wireless&lt;/a&gt; drivers.&lt;/p&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s install some apps.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Install packages&lt;/h2&gt;&lt;h3&gt;Developer tools&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Install some dev tools. &lt;a href=&quot;https://www.archlinux.org/groups/x86_64/base-devel/&quot;&gt;base-devel&lt;/a&gt; installs a lot of tools you&apos;ll need to compile things, and &lt;a href=&quot;https://www.archlinux.org/packages/extra/x86_64/git/&quot;&gt;git&lt;/a&gt; is required to build a lot of things from the AUR.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;sudo pacman -S \
  base-devel \
  git \
  vim
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Web browser ðŸŒŽ&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Install a browser. Choose from any of these options (or all!). Chromium is the open-source version of Google Chrome.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;pacman -S \
  chromium \
  firefox
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Fonts ðŸ’…&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Install some basic fonts. &lt;a href=&quot;https://www.archlinux.org/packages/extra/any/ttf-croscore/&quot;&gt;ttf-croscore&lt;/a&gt; are Chrome OS fonts. You can install more fonts later from the AUR, but we&apos;ll get to that later.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;pacman -S \
  noto-fonts \
  noto-fonts-emoji \
  ttf-croscore \
  ttf-roboto
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s install some drivers.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Install drivers&lt;/h2&gt;&lt;h3&gt;(Optional) Linux LTS&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;&lt;em&gt;(Optional)&lt;/em&gt; You can install an older version of the Linux kernel if you feel the latest kernel may be too bleeding-edge for you.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;pacman -S linux-lts
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Video driver&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Depending on your setup, you may also need to install an xf86 driver. See &lt;a href=&quot;https://www.archlinux.org/packages/?sort=&amp;#x26;q=xf86-video&amp;#x26;maintainer=&amp;#x26;flagged=&quot;&gt;this search&lt;/a&gt; for available drivers.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# If you&apos;re using ATI:
pacman -S xf86-video-ati

# If you&apos;re using Intel:
pacman -S xf86-video-intel

# ...see the list of packages to
#   find one that might be appropriate
#   for your setup!
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s install a desktop environment.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Desktop environment&lt;/h2&gt;&lt;p&gt;You&apos;ll need to install a desktop environment and a display manager. You can choose between &lt;code&gt;gnome&lt;/code&gt; (default for Ubuntu), &lt;code&gt;cinnamon&lt;/code&gt; (default for Mint), &lt;code&gt;deepin&lt;/code&gt;, &lt;code&gt;xfce4&lt;/code&gt;, &lt;code&gt;plasma&lt;/code&gt; and many others. I recommend GNOME.&lt;/p&gt;&lt;h3&gt;Install GNOME and GDM&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Install a desktop environment and a display manager. &lt;strong&gt;GNOME&lt;/strong&gt; is a good first choice; it&apos;s the default of the Ubuntu desktop, and is a great desktop environment overall. &lt;strong&gt;GDM&lt;/strong&gt; is the GNOME Display Manager.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Install gdm and gnome
pacman -S \
  gdm \
  gnome
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Try it out&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Start the GDM service right now. This should get you to a graphical login screen! You can log in with your user here and get to a desktop environment.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Start the GDM display manager
sudo systemctl start gdm
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Enable it on startup&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;If you were able to log into a desktop environment in the previous step, congratulations! Open a terminal and enable the &lt;code&gt;gdm&lt;/code&gt; service to start it up on every boot up.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Enable GDM on startup
sudo systemctl enable gdm
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s set up your swap file.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Creating swap&lt;/h2&gt;&lt;h3&gt;Set up your swap file&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;If you skipped creating a swap partition, you can create a &lt;a href=&quot;https://wiki.archlinux.org/index.php/Swap#Swap_file&quot;&gt;Swap file&lt;/a&gt; instead.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Create an 8G (8 gigabytes) swap
sudo fallocate -l 8G /swapfile
#                 ^^

# Format it, and turn it on
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Mount it on startup&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Add your swapfile to &lt;code&gt;/etc/fstab&lt;/code&gt; so it&apos;ll be used on every boot.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Edit your fstab partitions
sudo vim /etc/fstab
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# add this to the end:
/swapfile none swap defaults 0 0
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;What is the Arch User Repository?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;AUR (Arch User Repository)&lt;/h2&gt;&lt;p&gt;The &lt;a href=&quot;https://aur.archlinux.org/packages/&quot;&gt;AUR&lt;/a&gt;, or Arch User Repository, contains a lot of community-maintained packages that you won&apos;t find in the official repositories. This ranges from proprietary non-free packages (like NVidia drivers). For most Arch users, the AUR is their reason to use Arch Linux, so I highly recommend installing an AUR helper.&lt;/p&gt;&lt;h3&gt;AUR helper&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;You&apos;ll need an AUR helper to install packages from the AUR. I recommend &lt;a href=&quot;https://github.com/Jguer/yay&quot;&gt;yay&lt;/a&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Go to your home folder
cd

# Make and install `yay`
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;How to use yay&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;After it&apos;s installed, you can use it just like how you would use &lt;code&gt;pacman&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;yay packagename      # search for a package to install
yay -S packagename   # install a package
yay                  # check system for updates
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;What can I install from the AUR?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Some AUR packages&lt;/h2&gt;&lt;p&gt;Some AUR packages I can recommend to almost any Arch Linux user:&lt;/p&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Package&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://aur.archlinux.org/packages/pamac-aur/&quot;&gt;pamac-aur&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Get notified of package updates&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://aur.archlinux.org/packages/ttf-google-fonts-typewolf/&quot;&gt;ttf-google-fonts-typewolf&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;40+ Google fonts&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://aur.archlinux.org/packages/ttf-ms-fonts/&quot;&gt;ttf-ms-fonts&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Fonts from microsoft (arial, courier, etc)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://aur.archlinux.org/packages/ttf-mac-fonts/&quot;&gt;ttf-mac-fonts&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Fonts from macOS (lucida grande, etc)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://aur.archlinux.org/packages/otf-san-francisco&quot;&gt;otf-san-francisco&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Fonts from iOS&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;&lt;!-- {.-wide} --&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Arch Linux installation, summarized]]></title><description><![CDATA[Arch Linux has a great  Installation Guide , but I personally found it very daunting and hard-to-read. This article is a summary of all theâ€¦]]></description><link>https://ricostacruz.com/tilnext//arch-linux-installation-summarized/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//arch-linux-installation-summarized/</guid><pubDate>Wed, 12 Dec 2018 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;Arch Linux has a great &lt;a href=&quot;https://wiki.archlinux.org/index.php/Installation_guide&quot;&gt;Installation Guide&lt;/a&gt;, but I personally found it very daunting and hard-to-read. This article is a summary of all the commands in that wiki page, as of time of writing.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;This is not a &quot;How to Install Arch Linux&quot; instruction guide.&lt;/strong&gt; It&apos;s not a replacement for official &lt;a href=&quot;https://wiki.archlinux.org/index.php/Installation_guide&quot;&gt;Installation Guide&lt;/a&gt;Â­consider this more like a refresher course!&lt;/p&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s get started.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;First steps&lt;/h2&gt;&lt;h3&gt;Change keyboard layout&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;If you&apos;re using different keyboard layout, change it now using &lt;code&gt;loadkeys&lt;/code&gt;. See &lt;a href=&quot;https://www.archlinux.org/packages/core/x86_64/kbd/files/&quot;&gt;kbd&lt;/a&gt; for a list of available layouts.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Changes keyboard layout
# (Skip this step if you&apos;re using the qwerty layout!)

loadkeys dvorak
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Check if you&apos;re in UEFI mode&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Check if the &lt;code&gt;/sys/firmware/efi/efivars&lt;/code&gt; path exists. If it is, you&apos;re using &lt;code&gt;UEFI&lt;/code&gt; mode. If not, you&apos;re using &lt;code&gt;Legacy&lt;/code&gt; mode. Most modern devices are using UEFI mode, and this guide assumes you&apos;re in UEFI mode.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# See if this path exists
ls /sys/firmware/efi/efivars
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s connect to the Internet.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Go online&lt;/h2&gt;&lt;p&gt;You will be installing packages from the Arch package repository over the Internet. For that, you&apos;ll need to be online.&lt;/p&gt;&lt;h3&gt;Connect to the Internet via Android tethering&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;If you have an Android phone, this is the easiest way to go online. Connect your phone to your computer, then &lt;strong&gt;Settings&lt;/strong&gt; â†’ &lt;strong&gt;Tethering &amp;#x26; Mobile Hotspot&lt;/strong&gt; â†’ &lt;strong&gt;USB Tethering&lt;/strong&gt; (it&apos;s disabled unless your phone is connected). Then connect to it using &lt;code&gt;dhcpcd&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Find interface names:
ls /sys/class/net

# Then enable it:
dhcpcd enp0s26f7u3u3
#      ^^^^^^^^^^^^^
#      replace this with the
#      actual interface name
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;See &lt;a href=&quot;https://wiki.archlinux.org/index.php/Android_tethering&quot;&gt;Android tethering&lt;/a&gt; for info. For other ways to go online, see &lt;a href=&quot;https://wiki.archlinux.org/index.php/Network_configuration&quot;&gt;Network configuration&lt;/a&gt;.&lt;/p&gt;&lt;h3&gt;See if you&apos;re online&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;After all that, ensure that you&apos;re finally online.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Are we online? Hopefully yes!
ping 8.8.8.8
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Update your system clock.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;System clock&lt;/h2&gt;&lt;h3&gt;Update system time&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;This will update your system clock through the Internet via NTP (Network Time Protocol).&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Enable ntp time updates
timedatectl set-ntp true
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Partition your disk.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Disks&lt;/h2&gt;&lt;p&gt;You&apos;ll need 2 partitions on your computer. You&apos;ll need an &lt;code&gt;EFI partition&lt;/code&gt;, which you already have (and can be reused) if you already have another OS installed. You&apos;ll also need an &lt;code&gt;ext4 partition&lt;/code&gt; for Arch Linux to be installed to.&lt;/p&gt;&lt;h3&gt;Partition the disks&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;I recommend using &lt;code&gt;fdisk&lt;/code&gt; for this. You can also use &lt;code&gt;parted&lt;/code&gt; to resize volumes. See &lt;a href=&quot;https://wiki.archlinux.org/index.php/Installation_guide#Partition_the_disks&quot;&gt;Partition the disks&lt;/a&gt; &lt;em&gt;(wiki.archlinux.org)&lt;/em&gt; for more info.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;fdisk /dev/sda
# Important: read the guide above on
# how to use `parted`!
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You&apos;ll need to create an &lt;code&gt;ext4&lt;/code&gt; partition. You&apos;ll also need an &lt;code&gt;efi&lt;/code&gt; partition, but you probably have that already if you have an OS installed before all this.&lt;/p&gt;&lt;h3&gt;Format disks&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Format any &lt;em&gt;ext4&lt;/em&gt; partitions you made using &lt;code&gt;mkfs.ext4&lt;/code&gt;. Be sure to replace &lt;code&gt;sda1&lt;/code&gt; with the actual partition.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Format a partition as ext4
mkfs.ext4 /dev/sda1
#              ^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Format swaps&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;&lt;em&gt;(Optional)&lt;/em&gt; If you made a swap partition, use &lt;em&gt;mkswap&lt;/em&gt; to format them. Be sure to replace &lt;code&gt;sda3&lt;/code&gt; with the actual partition.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Format a partition as swap space
mkswap /dev/sda3
#           ^^^^

# Enable it
swapon /dev/sda3
#           ^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s mount the partitions you just made.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Mount the partitions&lt;/h2&gt;&lt;p&gt;After creating your partitions, you&apos;ll now need to mount it so we can write to it.&lt;/p&gt;&lt;h3&gt;Mount the root partition&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Mount the root partition to &lt;code&gt;/mnt&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;mount /dev/sda1 /mnt
#          ^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Mount the EFI partition&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Mount the EFI partition to &lt;code&gt;/mnt/boot&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;mkdir /mnt/boot
mount /dev/sda2 /mnt/boot
#          ^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Time to actually install Arch Linux.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Installing Arch Linux&lt;/h2&gt;&lt;h3&gt;Use your closest mirror&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Edit your mirror list, and move the geographically-closest location to you up the list. Don&apos;t skip this step! It&apos;ll likely be the difference between a 45-minute install and a 5-minute install.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# Find your closest country, and bring it up
vi /etc/pacman.d/mirrorlist
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Install packages&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Install packages using &lt;code&gt;pacstrap&lt;/code&gt;. This will take a while!&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# Make some coffee while this is happening
pacstrap /mnt base
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Configure list of partitions&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Generate the list of partitions (&lt;code&gt;/etc/fstab&lt;/code&gt;) to be mounted at boot time. This will be based on what partitions are already mounted right now.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# Generate fstab
genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s enter the system.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Chrooting in&lt;/h2&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;We&apos;re going to &quot;enter&quot; the new system you just mounted using &lt;a href=&quot;https://en.m.wikipedia.org/wiki/Chroot&quot;&gt;chroot&lt;/a&gt;! Use &lt;code&gt;arch-chroot&lt;/code&gt; to &quot;enter&quot; the new file system. This will make root path (&lt;code&gt;/&lt;/code&gt;) be what&apos;s in the new partition (until you &lt;code&gt;exit&lt;/code&gt;).&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# ~Enter the system~
arch-chroot /mnt
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s configure the rest of the stuff.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Once in chroot&lt;/h2&gt;&lt;h3&gt;Set your timezone&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;See &lt;a href=&quot;https://www.archlinux.org/packages/core/x86_64/tzdata/&quot;&gt;tzdata&lt;/a&gt; for a list of available timezones.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# Set your timezone (eg, Asia/Manila)
ln -sf /usr/share/zoneinfo/Region/City /etc/localtime
#                          ^^^^^^^^^^^

# Update time config (/etc/adjclock)
hwclock --systohc
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Set up locales&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Set your default locale. For most of us, that would be &lt;code&gt;en_US.UTF-8&lt;/code&gt;, but feel free to change that.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# Uncomment `en_US.UTF-8 UTF-8` in this file
vi /etc/locale.gen

# Generate locale config (/etc/locale.gen)
locale-gen
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Set keyboard layout&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;&lt;em&gt;(Optional)&lt;/em&gt; If you use a different keyboard layout, make it persist on boot.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# Skip this step if you&apos;re not using
# an alternate keyboard layout.
echo &quot;KEYMAP=dvorak&quot; &gt; /etc/vconsole.conf
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Set your system&apos;s hostname&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Hostname&lt;/h2&gt;&lt;p&gt;It&apos;s time to pick a name for your machine.&lt;/p&gt;&lt;h3&gt;Set hostname&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Pick a hostname and update &lt;code&gt;/etc/hostname&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;echo &quot;myhostname&quot; &gt; /etc/hostname
#     ^^^^^^^^^^
#     change this to whatever
#     you feel like using
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Update etc/hosts&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Update &lt;code&gt;/etc/hosts&lt;/code&gt; with your new hostname. (Be sure to change &lt;code&gt;myhostname&lt;/code&gt; to your chosen hostname.)&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;vi /etc/hosts
# Then update it to:

127.0.0.1 localhost
::1 localhost
127.0.1.1 myhostname.localdomain myhostname
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Change root password&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Change your password using &lt;code&gt;passwd&lt;/code&gt;. This is &lt;em&gt;not&lt;/em&gt; your main user&apos;s password.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;passwd
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s install a boot loader.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Install a bootloader&lt;/h2&gt;&lt;p&gt;You&apos;ll need a boot loader in your EFI partition. Think of this as a small program whose sole purpose is to kickstart your Linux session. There are many different boot loaders, but &lt;a href=&quot;https://wiki.archlinux.org/index.php/GRUB&quot;&gt;GRUB&lt;/a&gt; would be a good one to start with.&lt;/p&gt;&lt;h3&gt;Mount your other OS&apos;s&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;If you have other OS&apos;s installed (eg, Windows), mount them now! This is not strictly necessary, but if you&apos;re going to install GRUB, this will let GRUB know that you have another OS in your system.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# (Skip this step if you&apos;re not dual-booting.)
# For example, if you have Windows in /dev/sda4:
mkdir /windows
mount /dev/sda4 /windows
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Install GRUB&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Let&apos;s install grub into &lt;code&gt;/boot&lt;/code&gt;. Be sure to read the Arch wiki, instructions may be different for your system!&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# Install grub
pacman -S grub efibootmgr

# Install GRUB
grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB

# Update Grub config
grub-mkconfig -o /boot/grub/grub.cfg
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s create the user you&apos;ll be logging in with.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Create your user&lt;/h2&gt;&lt;p&gt;&lt;em&gt;(This section is not listed in the Arch official installation guide, but I highly recommended this for most users.)&lt;/em&gt;&lt;/p&gt;&lt;h3&gt;Create your user&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;You&apos;ll need a user that you&apos;ll be logging in with for your day-to-day. (Be sure to change &lt;code&gt;yourname&lt;/code&gt; to whatever you feel like using.)&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Create the user
useradd yourname
#       ^^^^^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Create the home dir&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;&lt;code&gt;useradd&lt;/code&gt; doesn&apos;t create a home directory, so do that now.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Create their home dir
mkdir /home/yourname
#           ^^^^^^^^
chown yourname:yourname /home/yourname
#     ^^^^^^^^ ^^^^^^^^       ^^^^^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Set a password&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Set a password.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;passwd yourname
#      ^^^^^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Add to the admin group&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;The admin group is named &lt;code&gt;wheel&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;usermod -a -G wheel yourname
#                   ^^^^^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Add to other groups&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;You&apos;ll want to add them to some other groups too.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;usermod -a -G \
  audio,input,video,network,rfkill \
  yourname
# ^^^^^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s install sudo.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Set up sudo&lt;/h2&gt;&lt;p&gt;&lt;code&gt;sudo&lt;/code&gt; is not part of the Arch Linux &lt;code&gt;base&lt;/code&gt; package, so we&apos;ll need to install that separately.
&lt;em&gt;(This section is not listed in the Arch official installation guide, but I highly recommended this for most users.)&lt;/em&gt;&lt;/p&gt;&lt;h3&gt;Install sudo&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Add and configure the &lt;code&gt;sudo&lt;/code&gt; package to grant your user some superuser rights.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Install sudo
pacman -S sudo
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Add sudo rights to your username&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Use &lt;code&gt;visudo&lt;/code&gt; to edit the sudo config to add your user name in it.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Update config
EDITOR=vi visudo
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;# Then add this line to the end of the file:
yourname ALL=(ALL) ALL
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Install some packages.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Install some extra packages&lt;/h2&gt;&lt;p&gt;&lt;em&gt;(This section is not listed in the Arch official installation guide, but I highly recommended this for most users.)&lt;/em&gt;&lt;/p&gt;&lt;h3&gt;Networking tools&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Install some networking tools, so we may be able to go online later. &lt;a href=&quot;https://wiki.archlinux.org/index.php/NetworkManager&quot;&gt;NetworkManager&lt;/a&gt; is used by most desktop environments to manage network connections, and can be used in the console as well via &lt;code&gt;nmtui&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;pacman -S networkmanager
systemctl enable networkmanager
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Your mostly done! Lets do a few more things.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;You&apos;re mostly done!&lt;/h2&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Congratulations, you now have a working Arch Linux installation. At this point, &lt;code&gt;exit&lt;/code&gt; out of the chroot, and &lt;code&gt;reboot&lt;/code&gt;. Be sure to remove the USB drive as you&apos;re rebooting, and you may need to go to your BIOS&apos;s boot order menu.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;exit

reboot
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;From here, I recommend proceeding to the &lt;a href=&quot;/tilnext/after-installing-arch-linux/&quot;&gt;&lt;strong&gt;After Installing Arch Linux&lt;/strong&gt;&lt;/a&gt; guide. A basic Arch Linux installation doesn&apos;t have a user, swap, a desktop environment, sudo, and many other facilities we may be taking for granted.&lt;/p&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Why I Prefer styled-jsx]]></title><description><![CDATA[styled-jsx  has been my preferred way of integrating CSS in JavaScript. It lets me write CSS in a more declarative fashion. It leads to codeâ€¦]]></description><link>https://ricostacruz.com/tilnext//styled-jsx-is-awesome/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//styled-jsx-is-awesome/</guid><pubDate>Thu, 08 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/zeit/styled-jsx&quot;&gt;styled-jsx&lt;/a&gt; has been my preferred way of integrating CSS in JavaScript. It lets me write CSS in a more declarative fashion. It leads to code that&apos;s easier to understand.&lt;/p&gt;&lt;p&gt;Before I tell you why I prefer &lt;em&gt;styled-jsx&lt;/em&gt;, let&apos;s learn about some programming conceptsâ€”It&apos;ll all make sense later, trust me!&lt;/p&gt;&lt;h2&gt;Imperative vs. declarative code&lt;/h2&gt;&lt;h3&gt;Approach 1&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;There are two styles of expressing data. The most common way is to simply write it out as a data structure. We can call this a &lt;strong&gt;declarative&lt;/strong&gt; style of writing, where we try to express logic without providing any instructions.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;{
  &quot;name&quot;: &quot;my-js-package&quot;,
  &quot;description&quot;: &quot;A sample package&quot;,
  &quot;author&quot;: &quot;Rico Sta. Cruz&quot;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Approach 2&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;There are cases when this style may not be flexible enough, so some systems take an &lt;strong&gt;imperative&lt;/strong&gt; approach. In contrast to the declarative style, it&apos;s a piece of code with instructions that runs procedurally. Here&apos;s an example of a Ruby &lt;a href=&quot;https://guides.rubygems.org/specification-reference/&quot;&gt;gem specification&lt;/a&gt;, which defines a Ruby package&apos;s metadata.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-rb&quot;&gt;Gem::Specification.new do |spec|
  spec.name = &apos;my-ruby-gem&apos;
  spec.summary = &apos;A sample package&apos;
  spec.authors = [&apos;Rico Sta. Cruz&apos;]
end
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;What&apos;s the difference?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;But they look the same!&lt;/h2&gt;&lt;p&gt;Ruby&apos;s gem specification style is &lt;em&gt;imperative&lt;/em&gt; because we&apos;re issuing instructions that are to be ran sequentially. It can keep variables, call functions, and do all the things you can do in a Ruby program. Think of the Ruby gemspec as a program talking to the system:&lt;/p&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Okay, computer. Build a new Gem specification.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Set the name to &apos;my-ruby-gem&apos;.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Set the summary to &apos;A sample package&apos;.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Finish building.&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;&lt;p&gt;On the other hand, JavaScript&apos;s &lt;em&gt;declarative&lt;/em&gt; style isn&apos;t concerned with any instructions or control flow. It&apos;s not a piece of code that talks to your system, it&apos;s really just a table of keys and values.&lt;/p&gt;&lt;div&gt;&lt;next-block title=&quot;What makes imperative-style different?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Imperative is powerful&lt;/h2&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Imperative style gives you the power to write expressions that you can&apos;t easily do with a declarative-style conventions. For instance, here&apos;s an example gem specification where the list of files are gathered via a system command (&lt;code&gt;git ls-files&lt;/code&gt;).&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-rb&quot;&gt;Gem::Specification.new do |spec|
  spec.name = &apos;my-gem&apos;
  spec.summary = &apos;This is my gem&apos;
  spec.files = `git ls-files -z`.split(&quot;\x0&quot;)
end
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;What makes declarative-style different?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Declarative is easier to understand&lt;/h2&gt;&lt;h3&gt;Imperative in Ruby&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Imperative conventions give developers a great amount of flexibility. However, this power comes at the cost of &lt;em&gt;complexity&lt;/em&gt;. Here&apos;s an example where development dependencies are &lt;em&gt;imperatively&lt;/em&gt; defined in a Ruby gem, taking advantage of Ruby&apos;s &lt;code&gt;Array#each&lt;/code&gt; to reduce redundancy.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-rb&quot;&gt;Gem::Specification.new do |spec|
  [&apos;bundler&apos;, &apos;rake&apos;, &apos;minitest&apos;, &apos;rails&apos;].each do |gemname|
    spec.add_development_dependency(gemname)
  end
end
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Declarative in JavaScript&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;In contrast, here&apos;s how it may be &lt;em&gt;declaratively&lt;/em&gt; defined in a JavaScript package&apos;s &lt;code&gt;package.json&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;{
  &quot;dependencies&quot;: {
    &quot;react&quot;: &quot;^16.0.0&quot;,
    &quot;react-dom&quot;: &quot;^16.0.0&quot;,
    &quot;redux&quot;: &quot;^4.0.1&quot;
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;JavaScript&apos;s &lt;em&gt;declarative aproach&lt;/em&gt; may be less flexible than the &lt;em&gt;imperative&lt;/em&gt; one, but the constraints of a JSON format makes things more predictable and easier to glance.&lt;/p&gt;&lt;div&gt;&lt;next-block title=&quot;What does this have to do with CSS?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;CSS is declarative&lt;/h2&gt;&lt;p&gt;CSS is beautifully declarative. To write CSS is to write a list of rules, not a set of instructions. For instance, we would say &lt;em&gt;buttons are supposed to be blue&lt;/em&gt;, rather than &lt;em&gt;turn all buttons to blue&lt;/em&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;/* &quot;Buttons are supposed to be blue&quot; in CSS. */
button {
  background: blue;
}
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// &quot;Turn all buttons to blue&quot; in JavaScript.
// (Please don&apos;t do this.)
Array.from(document.querySelectorAll(&apos;button&apos;)).forEach(button =&gt; {
  button.style.background = &apos;blue&apos;
})
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;What about CSS-in-JS?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;A lot of CSS-in-JS is imperative&lt;/h2&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.literate-section} --&gt;&lt;p&gt;At first glance, we can say that most CSS-in-JS solutions require you to write in a declarative style, since it&apos;s mostly just taking CSS and putting it in JavaScript. Here&apos;s how you would define a blue button using &lt;a href=&quot;https://www.styled-components.com/&quot;&gt;styled-components&lt;/a&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;const Button = styled.a`
  background: blue;
`
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Where it breaks down&lt;/h3&gt;&lt;p&gt;However, how would you start making red &lt;code&gt;danger&lt;/code&gt; buttons? With &lt;em&gt;styled-components&lt;/em&gt;, you&apos;ll have to provide a function which returns a CSS fragment depending on how you would interpret &lt;code&gt;props&lt;/code&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// using styled-components
const Button = styled.a`
  background: blue;

  ${props =&gt;
    props.danger &amp;#x26;&amp;#x26;
    css`
      background: red;
    `};
`
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This is where it starts to break down. We&apos;re now mixing the declarative nature of CSS with some rules that are written in an imperative style. We&apos;re also now interweaving 2 languages togetherâ€”CSS and JavaScriptâ€”where your brain may have to switch contexts mid-way.&lt;/p&gt;&lt;h3&gt;Interpolation&lt;/h3&gt;&lt;p&gt;This brain-context-switching is even more apparent in some other CSS-in-JS libraries:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;// using emotion
const Button = styled.a`
  background: ${props =&gt; props.danger ? &apos;red&apos; : &apos;blue&apos;};
  opacity: ${props =&gt; props.isHidden ? 0 : 1};
`
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s look at how styled-jsx solves this.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Declarative CSS with styled-jsx&lt;/h2&gt;&lt;h3&gt;No props logic required&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;const Button = ({ children, danger }) =&gt; {
  return (
    &amp;#x3C;a className={`button ${danger ? &apos;danger&apos; : &apos;&apos;}`}&gt;
      {children}
      &amp;#x3C;style jsx&gt;{style}&amp;#x3C;/style&gt;
    &amp;#x3C;/a&gt;
  )
}

const style = css`
  .button {
    background: blue;
  }

  .button.danger {
    background: red;
  }
`
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/zeit/styled-jsx&quot;&gt;styled-jsx&lt;/a&gt; lets me write CSS in a declarative fashion. It also minimizes the interweaving of CSS and JavaScript code. This, in my opinion, makes styled-jsx code easier-to-understand, even at the modest cost of a little extra verbosity.&lt;/p&gt;&lt;p&gt;How would you style a danger button differently in &lt;em&gt;styled-jsx&lt;/em&gt;? Just use CSS classes as you normally would. Simple!&lt;/p&gt;&lt;p&gt;In this example, we simply declare a class rule with &lt;code&gt;.button.danger&lt;/code&gt;, just as we would with regular CSS. There&apos;s no need for the props to be parsed from the CSS block.&lt;/p&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s recap what we&apos;ve learned.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Force git to use SSH on GitHub]]></title><description><![CDATA[This forces GitHub to always use SSH, even for HTTPS URL's! This way, you can use  https://  GitHub URL's and they will still use your SSHâ€¦]]></description><link>https://ricostacruz.com/tilnext//github-always-ssh/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//github-always-ssh/</guid><pubDate>Sat, 09 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;This forces GitHub to always use SSH, even for HTTPS URL&apos;s! This way, you can use &lt;code&gt;https://&lt;/code&gt; GitHub URL&apos;s and they will still use your SSH key.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;git config --global url.&quot;git@github.com:&quot;.insteadOf &quot;https://github.com/&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal.-wide} --&gt;&lt;div&gt;&lt;next-block title=&quot;What does it do?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;How it works&lt;/h2&gt;&lt;p&gt;When you clone an HTTPS URL, it now gets rewritten as an SSH URL.&lt;/p&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-captioned-style} --&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;git clone https://github.com/rstacruz/vimfiles.git
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;This URL will get rewritten&lt;/strong&gt; to access via SSH instead of HTTPS.
It will instead be: &lt;code&gt;git@github.com:rstacruz/vimfiles.git&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;&lt;div&gt;&lt;next-block title=&quot;Here&apos;s another neat trick for macOS.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;The inverse: &lt;br&gt; Use HTTPS instead of SSH&lt;/h2&gt;&lt;p&gt;Alternatively, this forces GitHub to always use HTTPS. Great for macOS, where you can use &lt;a href=&quot;https://help.github.com/articles/updating-credentials-from-the-osx-keychain/&quot;&gt;git-credential-osxkeychain&lt;/a&gt; to store your GitHub token.&lt;/p&gt;&lt;p&gt;This will &lt;em&gt;not&lt;/em&gt; rewrite &lt;code&gt;git@github.com:user/repo.git&lt;/code&gt; URL&apos;s, though, so I don&apos;t really recommend it! Besides, SSH keys are often easier to manage than API tokens.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;git config --global url.&quot;https://github&quot;.insteadOf git://github
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;h2&gt;References&lt;/h2&gt;&lt;p&gt;Hat tip to these people!&lt;/p&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/Kovrinic/ea5e7123ab5c97d451804ea222ecd78a&quot;&gt;https://gist.github.com/Kovrinic/ea5e7123ab5c97d451804ea222ecd78a&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/grawity/4392747&quot;&gt;https://gist.github.com/grawity/4392747&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[A Better Hello World Program]]></title><description><![CDATA[The "Hello world" program is usually the first introduction to any programming language. It demonstrates the minimum amount you need toâ€¦]]></description><link>https://ricostacruz.com/tilnext//a-better-hello-world/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//a-better-hello-world/</guid><pubDate>Tue, 19 Sep 2017 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;The &quot;Hello world&quot; program is usually the first introduction to any programming language. It demonstrates the minimum amount you need to write a C program. It looks like this in the C programming language:&lt;/p&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-captioned-style} --&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot;&gt;/* hello.c */
#import &amp;#x3C;stdio.h&gt;

int main(int argc, char *argv[]) {
  printf(&quot;Hello, world!&quot;);
  return 0;
}
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;A Hello World program in C.&lt;/strong&gt; It demonstrates the minimum amount you need to write a C program.&lt;/p&gt;
&lt;/blockquote&gt;&lt;div&gt;&lt;next-block title=&quot;What&apos;s wrong with that?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;A modern &quot;Hello world&quot;&lt;/h2&gt;&lt;p&gt;In more modern languages however, this example isn&apos;t as useful anymore. Here&apos;s the same example in Python. Notice how it doesn&apos;t teach anything other than &lt;code&gt;print&lt;/code&gt;.&lt;/p&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-captioned-style} --&gt;&lt;pre&gt;&lt;code class=&quot;language-py&quot;&gt;print &quot;Hello, world!&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;A Hello World program in Python.&lt;/strong&gt; There&apos;s barely anything in it!&lt;/p&gt;
&lt;/blockquote&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s improve on this.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Improving &quot;Hello world&quot;&lt;/h2&gt;&lt;h3&gt;&quot;Hello world&quot; in JavaScript&lt;/h3&gt;&lt;p&gt;In today&apos;s world of more succint programming languages, we need a different &quot;hello world&quot; to demonstrate language features better. Here&apos;s what I propose:&lt;/p&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-captioned-style} --&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;function getGreeting(name) {
  return `Hello, ${name}!`
}

const message = getGreeting(&apos;world&apos;)
console.log(message)
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;A &quot;better&quot; Hello World program in JavaScript,&lt;/strong&gt; showing more basic functionality than just printing lines.&lt;/p&gt;
&lt;/blockquote&gt;&lt;h3&gt;How is this better?&lt;/h3&gt;&lt;p&gt;This simple example demonstrates a few more things than printing strings, such as:&lt;/p&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-captioned-style} --&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;function getGreeting(name) {
  return /*...*/
}
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Functions:&lt;/strong&gt; How to write a function with an argument, and returning values from functions. Also shows the naming convention for functions (&lt;code&gt;camelCase&lt;/code&gt;).&lt;/p&gt;
&lt;/blockquote&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-captioned-style} --&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;const message = /*...*/
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Variables:&lt;/strong&gt; How to assign variables.&lt;/p&gt;
&lt;/blockquote&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-captioned-style} --&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;;`Hello, ${name}!`
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Strings:&lt;/strong&gt; Dealing with basic string functions.&lt;/p&gt;
&lt;/blockquote&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s look at some more examples.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Example: Go version&lt;/h2&gt;&lt;p&gt;I&apos;ve started writing these kinds of programs for languages that I&apos;m learning. Here&apos;s how it&apos;d look like in Go, which I&apos;ve added to my &lt;a href=&quot;https://ricostacruz.com/cheatsheets/go&quot;&gt;Go cheatsheet&lt;/a&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot;&gt;// hello.go
package main

import &quot;fmt&quot;

func main() {
  message := getGreeting(&quot;world&quot;)
  fmt.Println(message)
}

func getGreeting(name string) (string) {
  return &quot;Hello, &quot; + name + &quot;!&quot;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;Example: Elixir version&lt;/h2&gt;&lt;p&gt;Here&apos;s an Elixir version, also at the &lt;a href=&quot;https://ricostacruz.com/cheatsheets/elixir&quot;&gt;Elixir cheatsheet&lt;/a&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot;&gt;# hello.exs
defmodule Greeter do
  def get_greeting(name) do
    &quot;Hello, &quot; &amp;#x3C;&gt; name &amp;#x3C;&gt; &quot;!&quot;
  end
end

message = Greeter.get_greeting(&quot;world&quot;)
IO.puts message
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Use less CPU for Rails]]></title><description><![CDATA[Is Rails eating your CPU in development? Try lowering its priority using  renice(1) , a standard BSD utility that should be available in OSâ€¦]]></description><link>https://ricostacruz.com/tilnext//less-cpu-on-development/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//less-cpu-on-development/</guid><pubDate>Wed, 12 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;Is Rails eating your CPU in development? Try lowering its priority using &lt;a href=&quot;http://manpages.ubuntu.com/manpages/zesty/en/man1/renice.1.html&quot;&gt;renice(1)&lt;/a&gt;, a standard BSD utility that should be available in OS X and most Linux distributions. Here&apos;s a shell script that will automatically reset the priority to &lt;code&gt;+15&lt;/code&gt; to common development processes:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;#!/usr/bin/env sh
sudo renice +15 -p $(ps ax | grep -E &apos;ruby|node|watchman|postgres&apos; | grep -v grep | awk &apos;{print $1}&apos; | tr &apos;\n&apos; &apos; &apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;p&gt;Save this as &lt;code&gt;renice-dev&lt;/code&gt; into one of your &lt;code&gt;bin&lt;/code&gt; paths, and give it a &lt;code&gt;chmod +x renice-dev&lt;/code&gt;. You can type &lt;code&gt;renice-dev&lt;/code&gt; after you start your development processes to &quot;renice&quot; them.&lt;/p&gt;&lt;p&gt;The lowest priority is &lt;code&gt;+19&lt;/code&gt; (only run when nothing else is running), the default is &lt;code&gt;0&lt;/code&gt;, and the highest is &lt;code&gt;-20&lt;/code&gt; (makes things go very fast).&lt;/p&gt;&lt;h2&gt;References&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://tinyapps.org/blog/mac/201107230700_throttle_process_os_x.html&quot;&gt;Throttling processes in OS X&lt;/a&gt; &lt;em&gt;(tinyapps.org)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Rails mailer conventions are silly]]></title><description><![CDATA[Typical Rails convention will tell you to send email like using the ActiveMailer API using  #deliver_later . This is not a very good ideaâ€¦]]></description><link>https://ricostacruz.com/tilnext//rails-mailer-race-conditions/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//rails-mailer-race-conditions/</guid><pubDate>Tue, 06 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Typical Rails convention will tell you to send email like using the ActiveMailer API using &lt;code&gt;#deliver_later&lt;/code&gt;. This is not a very good idea, and let me tell you why.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-ruby&quot;&gt;NotificationMailer.notification(@user, @post).deliver_later
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Sample implementation&lt;/h3&gt;
&lt;p&gt;This kind of mailer would typically be implemented like so:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-ruby&quot;&gt;class NotificationMailer &amp;#x3C; ApplicationMailer
  def notification(user, post)
    @user = user
    @post = post

    mail to: @user.email,
         subject: &quot;You&apos;ve got a notification&quot;
  end
end
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;&lt;next-block title=&quot;Let&apos;s look at how this can cause problems.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;
&lt;h2&gt;Race condition!&lt;/h2&gt;
&lt;p&gt;If you follow Rails best practices, you&apos;d be using &lt;code&gt;#deliver_later&lt;/code&gt; to send email in the background. This is great for performance, but that means you have to start thinking asynchronously. The code above is written in a very synchronous style and will fail in certain conditions. Consider this scenario:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A notification is triggered for user Joe, who is &lt;code&gt;joe@example.com&lt;/code&gt;, by creating a new &lt;code&gt;Post&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;A background job is created.&lt;/li&gt;
&lt;li&gt;Before an email could be sent, the &lt;code&gt;Post&lt;/code&gt; is deleted.&lt;/li&gt;
&lt;li&gt;The mailer now fails because &lt;code&gt;@post&lt;/code&gt; is nil.&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;&lt;next-block title=&quot;So how can we fix this?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;
&lt;h2&gt;Think asynchronously&lt;/h2&gt;
&lt;p&gt;Instead of passing Rails models or record ID&apos;s, pass a fully-loaded &lt;em&gt;plain hash&lt;/em&gt; of everything the mailer needs to send the email. Consider something like this instead:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-ruby&quot;&gt;NotificationMailer.notification(
  user: {
    email: @user.email
  },
  post: {
    id: @post.id,
    title: @post.title,
    url: post_url(@post)
  }
).deliver_later
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The mailer will now not need to hit the database to fetch any data, eliminating any race conditions. Even if the post is modified or deleted later on, the email will still send just fine.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Managing side effects in Redux]]></title><description><![CDATA[Redux  is the preferred state management pattern for React apps today. Being a very "functional" library, it doesn't like side effects muchâ€¦]]></description><link>https://ricostacruz.com/tilnext//redux-side-effects/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//redux-side-effects/</guid><pubDate>Tue, 14 Mar 2017 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-wider-literate-style} --&gt;&lt;p&gt;&lt;a href=&quot;http://redux.js.org/&quot;&gt;Redux&lt;/a&gt; is the preferred state management pattern for React apps today. Being a very &quot;functional&quot; library, it doesn&apos;t like side effects much. This means doing asynchronous actions in a Redux reducer is not just a bad idea, it simply won&apos;t work.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;/* âœ— Warning: This won&apos;t work! */

function reducer (state, action) {
  switch (action.type) {
    case &apos;profile:load&apos;:
      fetch(&apos;/my_profile&apos;)
        .then(res =&gt; res.json())
        .then(res =&gt; {
          dispatch({
            type: &apos;profile:set&apos;,
            payload: res.body
          })
          // âœ— Error: dispatch is not defined
        })

        ...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You can&apos;t modify state here in an async callback. In fact, you can&apos;t even &lt;code&gt;dispatch()&lt;/code&gt; in a reducer! This won&apos;t work and is a bad idea; you break the purity of the store reducer.&lt;/p&gt;&lt;h2&gt;Using Middleware&lt;/h2&gt;&lt;h3&gt;Middleware for side effects&lt;/h3&gt;&lt;!-- {.-wider-literate-style} --&gt;&lt;p&gt;Fortunately, Redux has built-in provisions for managing side effects: &lt;a href=&quot;http://redux.js.org/docs/advanced/Middleware.html&quot;&gt;Middleware&lt;/a&gt;! You can write your own middleware with business logic. You don&apos;t need to use 3rd-party packages other than Redux itself.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// Redux middleware
function ProfileLoader () {
  return store =&gt; dispatch =&gt; action {
    // First pass them through to the reducers.
    dispatch(action)

    switch (action.type) {
      case &apos;profile:load!&apos;:
        fetch(&apos;/my_profile&apos;)
          .then(res =&gt; res.json())
          .then(res =&gt; dispatch({ type: &apos;profile:set&apos;, payload: res.body }))
          .catch(err =&gt; dispatch({ type: &apos;profile:error&apos;, payload: err }))
    }
  }
}

// Use the middleware in your store
store = createStore(reducers, {}, applyMiddleware(
  ProfileLoader()
)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Redux middleware is simply a decorator for &lt;code&gt;dispatch()&lt;/code&gt;. Here&apos;s an example where we extend &lt;code&gt;dispatch()&lt;/code&gt; to perform certain side effects (an AJAX call, in this case) when certain actions come in.&lt;/p&gt;&lt;h2&gt;Other solutions&lt;/h2&gt;&lt;h3&gt;Using redux-thunk&lt;/h3&gt;&lt;p&gt;Perhaps the most well-known solution to this is &lt;a href=&quot;https://www.npmjs.com/package/redux-thunk&quot;&gt;redux-thunk&lt;/a&gt;, which allows you to dispatch functions (&quot;thunks&quot;).&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// Using a function as an action via redux-thunk
store.dispatch(dispatch =&gt; {
  fetch(&apos;/my_profile&apos;)
    .then(res =&gt; res.json())
    .then(res =&gt; dispatch({ type: &apos;profile:set&apos;, payload: res.body }))
    .catch(err =&gt; dispatch({ type: &apos;profile:error&apos;, payload: err }))
})
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;h3&gt;Why not use redux-thunk?&lt;/h3&gt;&lt;p&gt;I personally advise against this approach for a number of reasons:&lt;/p&gt;&lt;ul&gt;
&lt;li&gt;It moves logic to your action creators, which were supposed to be very simple pieces of code.&lt;/li&gt;
&lt;li&gt;It makes actions complicated, when they can just be simple JSON instructions (eg, &lt;code&gt;{ type: &apos;profile:load&apos; }&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;It can&apos;t interact with other side effects. For instance, you can&apos;t make a side effect to send &lt;code&gt;profile:error&lt;/code&gt;s to an error tracking service. Middleware can do this.&lt;/li&gt;
&lt;/ul&gt;&lt;h2&gt;Naming convention&lt;/h2&gt;&lt;p&gt;You may have noticed I named my action &lt;code&gt;profile:load!&lt;/code&gt;. This is my preferred convention of choice, where action names are simply strings, and &quot;side effect&quot; actions are suffixed with an exclamation mark, just as it would in Ruby or Elixir.&lt;/p&gt;&lt;h2&gt;Other examples&lt;/h2&gt;&lt;h3&gt;Error tracker&lt;/h3&gt;&lt;!-- {.-wider-literate-style} --&gt;&lt;p&gt;How about a middleware that tracks errors as they come in?&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;function ErrorTracker () {
  return store =&gt; dispatch =&gt; action {
    dispatch(action)

    switch (action.type) {
      case &apos;profile:error&apos;:
      case &apos;account:error&apos;:
      case &apos;other:error&apos;:
        Rollbar.track(action.payload)
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Ticker&lt;/h3&gt;&lt;!-- {.-wider-literate-style} --&gt;&lt;p&gt;Or a middleware that sends &lt;code&gt;tick&lt;/code&gt; events every second? Great for timers or for RPG&apos;s.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;function Ticker (options) {
  let timer

  return store =&gt; dispatch =&gt; action {
    dispatch(action)

    switch (action.type) {
      case &apos;ticker:start!&apos;:
        timer = setInterval(() =&gt; {
          store.dispatch({ type: &apos;ticker:tick&apos;, now: new Date() })
        }, options.interval)
        break

      case &apos;ticker:stop!&apos;:
        if (timer) clearInterval(timer)
        timer = null
        break
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Combining them&lt;/h3&gt;&lt;!-- {.-wider-literate-style} --&gt;&lt;p&gt;And to put them all together:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;store = createStore(reducers, {}, applyMiddleware(
  ProfileLoader(),
  ErrorTracker(),
  Ticker({ interval: 1000 })
)
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;See also&lt;/h2&gt;&lt;p&gt;Check out &lt;a href=&quot;http://devguides.io/redux&quot;&gt;Redux on devguides.io&lt;/a&gt;! Devguides.io is my new pet project where I make pocket-sized explainers for web development concepts.&lt;/p&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Your life is a series of side quests]]></title><description><![CDATA[Video games tell you what to do using  quests  or  missions . There's no reason this can't work in real life, too. Books tell us to leadâ€¦]]></description><link>https://ricostacruz.com/tilnext//life-in-side-quests/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//life-in-side-quests/</guid><pubDate>Sun, 19 Feb 2017 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tilnext/static/c05fe1d2c3577ffadec4a1b3baa9b774/43ac2/side-quest-example.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 1400px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 34.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAME/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAY5iZA//xAAYEAADAQEAAAAAAAAAAAAAAAABAgMABP/aAAgBAQABBQKnQWVaOuNTv//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/Aaf/xAAZEAABBQAAAAAAAAAAAAAAAAABABARIjL/2gAIAQEABj8CqYK03//EABkQAQEAAwEAAAAAAAAAAAAAAAERADFBIf/aAAgBAQABPyE0J2ncmR7qXeIfW5//2gAMAwEAAgADAAAAEA//AP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EKr/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxClf//EABkQAAMBAQEAAAAAAAAAAAAAAAABEVEhYf/aAAgBAQABPxBFnRYLpfQroo3pTNbWf//Z&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Example image&quot;
        title=&quot;&quot;
        src=&quot;/tilnext/static/c05fe1d2c3577ffadec4a1b3baa9b774/fb2a0/side-quest-example.jpg&quot;
        srcset=&quot;/tilnext/static/c05fe1d2c3577ffadec4a1b3baa9b774/a58bd/side-quest-example.jpg 350w,
/tilnext/static/c05fe1d2c3577ffadec4a1b3baa9b774/9bddb/side-quest-example.jpg 700w,
/tilnext/static/c05fe1d2c3577ffadec4a1b3baa9b774/fb2a0/side-quest-example.jpg 1400w,
/tilnext/static/c05fe1d2c3577ffadec4a1b3baa9b774/43ac2/side-quest-example.jpg 1440w&quot;
        sizes=&quot;(max-width: 1400px) 100vw, 1400px&quot;
      /&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;&lt;!-- {.-panorama} --&gt;&lt;p&gt;Video games tell you what to do using &lt;em&gt;quests&lt;/em&gt; or &lt;em&gt;missions&lt;/em&gt;. There&apos;s no reason this can&apos;t work in real life, too. Books tell us to lead purpose-driven lives with long-term and short-term goals. Seems like a perfect way to make your life an RPG.&lt;/p&gt;&lt;h2&gt;Missions&lt;/h2&gt;&lt;p&gt;A &lt;em&gt;mission&lt;/em&gt; is an achievable goal within 3 months or less. A mission should be broken down into sub-tasks. In other words, it&apos;s an actionable short-term goal.&lt;/p&gt;&lt;figure class=&apos;-panorama&apos;&gt;
&lt;div class=&apos;mission-list&apos;&gt;
&lt;div class=&apos;mission-item&apos;&gt;
&lt;h3&gt;1703 Start a blog &lt;em&gt;#project&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Figure out the design&lt;/li&gt;
&lt;li&gt;Write a few articles&lt;/li&gt;
&lt;li&gt;Publishing&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&apos;mission-item&apos;&gt;
&lt;h3&gt;1704 Couch to 5K &lt;em&gt;#fitness&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Study the running program&lt;/li&gt;
&lt;li&gt;Week 1 - 0.5km&lt;/li&gt;
&lt;li&gt;Week 2 - 1km&lt;/li&gt;
&lt;li&gt;Week 3 - 2.5km&lt;/li&gt;
&lt;li&gt;Week 4 - 5km&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&apos;mission-item&apos;&gt;
&lt;h3&gt;1704 Get a job &lt;em&gt;#career&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Send 4 resumes&lt;/li&gt;
&lt;li&gt;Get an interview&lt;/li&gt;
&lt;li&gt;Go through negotiation&lt;/li&gt;
&lt;li&gt;Get hired&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&apos;mission-item&apos;&gt;
&lt;h3&gt;1706 Plan vacation &lt;em&gt;#life&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Decide on destination&lt;/li&gt;
&lt;li&gt;Book tickets&lt;/li&gt;
&lt;li&gt;Book accomodations&lt;/li&gt;
&lt;li&gt;Bon voyage!&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/figure&gt;&lt;p&gt;I prefix each mission with a projected date of completion (&lt;code&gt;1702&lt;/code&gt; is 2017, February), but this is totally up to you. I do this to get a good retrospective at the end of the year of all the missions I&apos;ve completed.&lt;/p&gt;&lt;figure&gt;
&lt;div class=&apos;mission-list&apos;&gt;
&lt;div class=&apos;mission-item -goals&apos;&gt;
&lt;ul&gt;
&lt;li&gt;1703 Start a blog&lt;/li&gt;
&lt;li&gt;1704 Couch to 5K&lt;/li&gt;
&lt;li&gt;1704 Job at Hyperfisk&lt;/li&gt;
&lt;li&gt;1706 Vacation to Paris&lt;/li&gt;
&lt;li&gt;1707 Remodel kitchen&lt;/li&gt;
&lt;li&gt;1707 Learn guitar&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/figure&gt;&lt;h2&gt;Keeping track&lt;/h2&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;This system is so simple, you can use anything to keep track of it. As an Android user, I prefer using &lt;a href=&quot;https://keep.google.com&quot;&gt;Google Keep&lt;/a&gt;. It lets me view all my missions at a glance, both ongoing and completed.&lt;/p&gt;&lt;figure&gt;
&lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/tilnext/static/0c1b9032d70af0bac953abc0a65d0718/f6b0f/keep-missions.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block;  max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 103.61111111111111%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAACmElEQVQ4y42T208aURDG969smzYtvT30D0DbRaxJa4tUqdpb8FJjbNL0oS+Q8IANDRCMMRCrPigX5VJ2QVhELKLc6W/3iPHF0i+7J2fPzDfzzcxZ6Z5lwjRiZ71vfWOy2k2sI3b9seqHV58Ho5N3ZdvD0cnHYw42+Egm66T1w/LNoVdmx7xt8dvQ9MIL55fxha/PP608GnPcGn59+5mN5448YXbM4Sa/W5pa+X7DPP7k5aw07HBa3y/JMwuW2c9jH5fZyNPzFmPFNDTllGcWLbOLV9enb+c4xyqVNE1V1ZyqKtmsoqjlcrlarf4xUKlUSqVSLpdTFOV3H+l0+vj4+PT0FKtULBR8Pt+P1VWPx+Nyufb29nq9bqvVbHfarVarqGl+v9/tdv/06QgGg16vV1GyvV7v/PxcItjGxkYkEtnc3FxbW9ve3u52u51Op91u1+v1w8PDcDgcCoVIBQETa9tArVaTyI4HytEjVCUSiVgshmDIWDGlUqlMJoOVPRscCoUCVokiIe/v7x8cHHCK+cgAgREGmYI5v+QDQkO5INMAjorFImnp06Wws7MzYYIMEz6h8/l8MpnUNE2vGQ5hSMWRiE1IWgVZZMZ7d3cXUzQaJScCuwb0mlEPmVXIhkzCqoGTkxPIxC0ZEIUQutFoNJtNnYyAlAFoeLCShN6KaROU/u/s7GxtbVEgihoGIOMjEfiXAWYYj8fX19cDgYCoWYxK60NovATlSLzIIwkyyEY88SlqxqpeD51MVAQf9SH2aBPk3PXQGyY4lCSiiOHVDQwg44cArjSjYhKUzbRpjLi9A8jkxIMbxoe4DOICsv5XZvqEYJokxHPChgkPJnPDuEBiktBQyy8l7tBgsvilFAM0T7sC4ub+ib82ny0/oK0IOAAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; alt=&quot;keep missions&quot; title=&quot;&quot; src=&quot;/tilnext/static/0c1b9032d70af0bac953abc0a65d0718/f6b0f/keep-missions.png&quot; srcset=&quot;/tilnext/static/0c1b9032d70af0bac953abc0a65d0718/93432/keep-missions.png 350w,
/tilnext/static/0c1b9032d70af0bac953abc0a65d0718/7e143/keep-missions.png 700w,
/tilnext/static/0c1b9032d70af0bac953abc0a65d0718/f6b0f/keep-missions.png 1080w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
  &lt;/span&gt;
  &lt;/a&gt;
&lt;/figure&gt;&lt;p&gt;There are a variety of other ways to keep track of your missions, including using plain notebooks and pens. What&apos;s important is you break your goals into manageable pieces, and give yourself a way to look back on your progress.&lt;/p&gt;&lt;style&gt;
.mission-list {
  box-sizing: border-box;
  font-size: .86em;
}
.mission-item {
  box-sizing: border-box;
  margin: 8px;
  padding: 16px;
  border: solid 1px rgba(30, 144, 255, 0.2);
  box-shadow: 0 4px 8px rgba(30, 144, 255, 0.07);
  border-radius: 3px;
  max-width: 320px;
  background: white;
}
@media (min-width: 481px) {
  .mission-list {
    display: flex;
    margin-left: 128px;
    margin-right: 64px;
    justify-content: center;
  }
  .mission-item {
    flex: 0 1 320px;
    margin: 4px;
  }
}
.mission-item &gt; h3,
.mission-item &gt; ul,
.mission-item &gt; ul &gt; li {
  margin: 0;
  padding: 0;
  border: 0;
  list-style-type: none;
  background: transparent;
}
.mission-item &gt; h3 {
  padding-bottom: 8px;
  margin-bottom: 8px;
  border-bottom: solid 1px rgba(30, 144, 255, 0.2);
}
.mission-item.mission-item &gt; h3 &gt; em {
  font-style: normal;
  font-weight: 400;
  font-size: .86em;
  font-family: sans-serif;
  color: rgba(30, 144, 255, 0.5);
  margin-left: 4px;
}
.mission-item &gt; ul &gt; li {
  margin-top: 2px;
}
.mission-item &gt; ul &gt; li::before {
  content: &apos;&apos;;
  box-sizing: border-box;
  position: relative;
  left: 0;
  top: 1px;
  display: inline-block;
  width: 12px;
  height: 12px;
  border: solid 2px rgba(30, 144, 255, 0.2);
  border-radius: 2px;
  margin: 0 8px 0 0;
}
@media (min-width: 481px) {
  .mission-list.-single {
    margin-left: 100px;
    margin-right: 100px;
  }
  .mission-list.-single &gt; .mission-item {
    flex: 1 0 auto;
  }
}
.mission-item.-goals &gt; ul &gt; li + li {
  border-top: solid 1px rgba(30, 144, 255, 0.2);
  padding-top: 4px;
  margin: 4px 0;
}
.mission-item.-goals &gt; ul &gt; li::before {
  background: rgba(30, 144, 255, 0.2);
  border-color: transparent;
}
&lt;/style&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[GraphQL on JavaScript]]></title><description><![CDATA[The de-facto GraphQL package in JavaScript,  graphql.js , is a bit verbose. Use  buildSchema()  to make your life easier. You can useâ€¦]]></description><link>https://ricostacruz.com/tilnext//graphql-on-javascript/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//graphql-on-javascript/</guid><pubDate>Wed, 28 Dec 2016 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;The de-facto GraphQL package in JavaScript, &lt;a href=&quot;https://www.npmjs.com/package/graphql&quot;&gt;graphql.js&lt;/a&gt;, is a bit verbose. Use &lt;a href=&quot;http://graphql.org/graphql-js/utilities/#buildschema&quot;&gt;buildSchema()&lt;/a&gt; to make your life easier. You can use GraphQL&apos;s schema definition language to write your schemas.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;import { graphql, buildSchema } from &apos;graphql&apos;

const schema = buildSchema(`
  type Query {
    hello: String
  }
`)

const root = {
  hello() {
    return &apos;world&apos;
  }
}

graphql(schema, &apos;{ hello }&apos;, root).then(res =&gt; {
  console.log(res)
})
// =&gt; { data: { hello: &apos;world&apos; } }
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;div&gt;&lt;next-block title=&quot;Why use buildSchema?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Why use buildSchema?&lt;/h2&gt;&lt;p&gt;Without &lt;em&gt;buildSchema()&lt;/em&gt;, you&apos;ll have to write it using lower-level classes:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;import {
  graphql,
  GraphQLSchema,
  GraphQLObjectType,
  GraphQLString
} from &apos;graphql&apos;

var schema = new GraphQLSchema({
  query: new GraphQLObjectType({
    name: &apos;RootQueryType&apos;,
    fields: {
      hello: {
        type: GraphQLString,
        resolve() {
          return &apos;world&apos;
        }
      }
    }
  })
})

graphql(schema, &apos;{ hello }&apos;).then(res =&gt; {
  console.log(res)
})
// =&gt; { data: { hello: &apos;world&apos; } }
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;p&gt;You can see an example in the graphql.js documentation&apos;s &lt;a href=&quot;http://graphql.org/graphql-js/#writing-code&quot;&gt;home page&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Neovim with Python on OSX]]></title><description><![CDATA[Installing neovim Want to use plugins like  Deoplete ,  Hyperstyle  and other Python plugins on OSX, you need a working installation of bothâ€¦]]></description><link>https://ricostacruz.com/tilnext//neovim-with-python-on-osx/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//neovim-with-python-on-osx/</guid><pubDate>Thu, 29 Sep 2016 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;h3&gt;Installing neovim&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Want to use plugins like &lt;a href=&quot;https://github.com/Shougo/deoplete.nvim&quot;&gt;Deoplete&lt;/a&gt;, &lt;a href=&quot;http://ricostacruz.com/vim-hyperstyle&quot;&gt;Hyperstyle&lt;/a&gt; and other Python plugins on OSX, you need a working installation of both Python2 and Python3 managed by Homebrew (ie, system default Python isn&apos;t enough).&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;brew install python
brew install python3
pip2 install neovim --upgrade
pip3 install neovim --upgrade
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Configuring &lt;code&gt;pythonX_host_prog&lt;/code&gt;&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;To complete this, add this to your &lt;code&gt;~/.config/nvim/init.vim&lt;/code&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot;&gt;let g:python2_host_prog = &apos;/usr/local/bin/python&apos;
let g:python3_host_prog = &apos;/usr/local/bin/python3&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Install neovim&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;And of course, you have to have Neovim installed for this. The repo &lt;a href=&quot;https://github.com/neovim/homebrew-neovim&quot;&gt;homebrew-neovim&lt;/a&gt; has all the info on how to do this.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;brew install neovim/neovim/neovim
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Troubleshooting&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;You can use the &lt;code&gt;:HealthCheck&lt;/code&gt; command to see issues with your Python providers.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot;&gt;:HealthCheck
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Filtering falsy values]]></title><description><![CDATA[Quickly discard falsy values from an Array using  filter(Boolean) . This is like  lodash.compact  or Ruby's  Array#compact . This worksâ€¦]]></description><link>https://ricostacruz.com/tilnext//filtering-falsy-values/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//filtering-falsy-values/</guid><pubDate>Sun, 28 Aug 2016 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;Quickly discard falsy values from an Array using &lt;code&gt;filter(Boolean)&lt;/code&gt;. This is like &lt;a href=&quot;http://devdocs.io/lodash~4/index#compact&quot;&gt;lodash.compact&lt;/a&gt; or Ruby&apos;s &lt;a href=&quot;http://devdocs.io/ruby~2.3/array#method-i-compact&quot;&gt;Array#compact&lt;/a&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&gt; [&apos;this&apos;, &apos;has&apos;, undefined, false, 0, null, NaN, &apos;values&apos;].filter(Boolean)
[ &apos;this&apos;, &apos;has&apos;, &apos;values&apos; ]
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;p&gt;This works because &lt;code&gt;Boolean(val)&lt;/code&gt; is roughly equivalent to &lt;code&gt;val =&gt; !!val&lt;/code&gt;. That is, it&apos;s a function that coerces a value into a Boolean.&lt;/p&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Tools for immutable work]]></title><description><![CDATA[Most people reach for  lodash  for general-purpose JavaScript work. With the recent tides shifting towards functional programming,  Ramdaâ€¦]]></description><link>https://ricostacruz.com/tilnext//my-immutable-toolkit/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//my-immutable-toolkit/</guid><pubDate>Thu, 25 Aug 2016 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;Most people reach for &lt;a href=&quot;http://lodash.com/&quot;&gt;lodash&lt;/a&gt; for general-purpose JavaScript work. With the recent tides shifting towards functional programming, &lt;a href=&quot;http://ramdajs.com/&quot;&gt;Ramda&lt;/a&gt; has become a popular option as well. I don&apos;t prefer to use them, let me show you why.&lt;/p&gt;&lt;h2&gt;Accumulated bloat&lt;/h2&gt;&lt;h3&gt;Lodash is big&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;I love both lodash and Ramda, but they&apos;re a bit too bloated to use for web apps. A simple &lt;a href=&quot;https://lodash.com/docs#map&quot;&gt;lodash.map&lt;/a&gt; weighs in at a whopping 24 kilobytes:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ browserify -r lodash/map | uglifyjs -cm | wc -c
24895
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Ramda is smaller&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Ramda&apos;s &lt;a href=&quot;http://ramdajs.com/0.21.0/docs/#map&quot;&gt;R.map&lt;/a&gt; is slimmer, but still hefty at 7kb. This may not seem like much, but for a web application, every kilobyte matters.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ browserify -r ramda/src/pluck | uglifyjs -cm | wc -c
7750
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;Loops&lt;/h2&gt;&lt;h3&gt;Using map&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;While JavaScript comes with &lt;a href=&quot;http://devdocs.io/javascript/global_objects/array/map&quot;&gt;Array.prototype.map&lt;/a&gt;, it&apos;s not very useful for objects. I don&apos;t appreciate that iterating through arrays are done differently from iterating through objects. Not only that, but iterating through &lt;code&gt;Object.keys().map&lt;/code&gt; is one of the slower ways of looping through an object&apos;s keys.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// Iterating through arrays
array.map((val, key) =&gt; {
  /*...*/
})

// Iterating through objects
Object.keys(object).map(key =&gt; {
  let val = object[key]
  /*...*/
})
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Optimization with object-loops&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;For this, I prefer &lt;a href=&quot;https://www.npmjs.com/package/object-loops&quot;&gt;object-loops&lt;/a&gt;. &lt;code&gt;object-loops/map&lt;/code&gt; is only 1kb!&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;import map from &apos;object-loops/map&apos;
map(array, (val, key) =&gt; {
  /*...*/
})
map(object, (val, key) =&gt; {
  /*...*/
})
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;Immutable set/get&lt;/h2&gt;&lt;h3&gt;Spread operator?&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Setting deep keys is something that&apos;s needed in every &lt;a href=&quot;http://redux.js.org/&quot;&gt;Redux&lt;/a&gt;-powered app. While most Redux guides advice you to use the &lt;a href=&quot;http://devguides.io/redux/introduction#the-spread-operator&quot;&gt;spread operator&lt;/a&gt;, it quickly gets unwieldy for deep structures.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// Plain mutable JS
state.albums[id] = album

// ESnext syntax
state = {
  ...state,
  albums: {
    ...state.albums,
    [id]: album
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Consider using 101&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;For this, &lt;a href=&quot;https://www.npmjs.com/package/101&quot;&gt;101&lt;/a&gt; comes with &lt;code&gt;101/put&lt;/code&gt; and &lt;code&gt;101/pluck&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;import set from &apos;101/put&apos;
import get from &apos;101/pluck&apos;

state = set(state, `albums.${id}`, album)
get(state, `albums.${id}`)
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Deleting keys With 101&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;It comes with &lt;code&gt;101/omit&lt;/code&gt; as well as an immutable analogue for &lt;code&gt;delete&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// Plain mutable JS
delete state.albums[id]

// Using 101
import del from &apos;101/omit&apos;
del(state, `albums.${id}`)
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;Recap&lt;/h2&gt;&lt;h3&gt;object-loops for iteration&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;&lt;a href=&quot;https://www.npmjs.com/package/object-loops&quot;&gt;object-loops&lt;/a&gt; is great for iteration.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// Iterating
import map from &apos;object-loops/map&apos;

map(state.albums, (val, key) =&gt; {
  /*...*/
})
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;101 for many things&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;&lt;a href=&quot;https://www.npmjs.com/package/101&quot;&gt;101&lt;/a&gt; is great for setting/getting values from deep structures.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// Setting and getting
import set from &apos;101/put&apos;
import get from &apos;101/pluck&apos;
import del from &apos;101/omit&apos;

state = set(state, `albums.${id}`, album)
state = del(state, `albums.${id}`)
get(state, `albums.${id}`)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Ordered keys in JS objects]]></title><description><![CDATA[Ordered keys? It seems like JavaScript has ordered keys. Notice that the order of keys are based on insertion order. Adding keys You can addâ€¦]]></description><link>https://ricostacruz.com/tilnext//ordered-keys-in-js/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//ordered-keys-in-js/</guid><pubDate>Thu, 11 Aug 2016 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;h3&gt;Ordered keys?&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;It seems like JavaScript has ordered keys. Notice that the order of keys are based on insertion order.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&gt; obj = {};
&gt; obj.zulu = 1;
&gt; obj.yankee = 1;
&gt; obj.xray = 1;
&gt; obj
{ zulu: 1, yankee: 1, xray: 1 }
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Adding keys&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;You can add more keys to an object, and it&apos;ll always end up in the end.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&gt; obj.bravo = 1;
&gt; obj.alpha = 1;
&gt; obj
{ zulu: 1, yankee: 1, xray: 1, bravo: 1, alpha: 1 }
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Is that really what always happens?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Not really&lt;/h2&gt;&lt;h3&gt;Numeric keys&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;But there are special cases when the key is a string that is a number. Notice this puts the new key at the beginning:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&gt; obj[&apos;5&apos;] = 1;
&gt; obj
{ &apos;5&apos;: 1, zulu: 1, yankee: 1, xray: 1, bravo: 1, alpha: 1 }
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;This is only true for numbers-as-strings. Strings that begin with numbers aren&apos;t affected.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&gt; obj[&apos;5X&apos;] = 1;
&gt; obj
{ &apos;5&apos;: 1, zulu: 1, yankee: 1, xray: 1, bravo: 1, alpha: 1, &apos;5X&apos;: 1 }
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s take a look at how it&apos;s sorted.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Sorting behavior&lt;/h2&gt;&lt;h3&gt;Numeric keys first&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;The number-like keys are going to be sorted numerically (not lexically) before the other keys.
(Hat tip to &lt;a href=&quot;https://twitter.com/cheeaun/status/763578733496143872&quot;&gt;@cheeaun&lt;/a&gt; for the observation on the behavior of numeric sorting!)&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&gt; obj = {};
&gt; obj.y = 1;
&gt; obj.x = 1;
&gt; obj[&apos;22&apos;] = 1;
&gt; obj[&apos;5&apos;] = 1;
&gt; obj[&apos;2&apos;] = 1;
&gt; obj
{ &apos;2&apos;: 1, &apos;5&apos;: 1, &apos;22&apos;: 1, y: 1, x: 1 }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Using npm packages in Rails]]></title><description><![CDATA[We load our gems from  Rubygems , but a lot of you may still be placing your JavaScripts into  vendor/assets/javascripts . Why not use  npmâ€¦]]></description><link>https://ricostacruz.com/tilnext//npm-in-rails/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//npm-in-rails/</guid><pubDate>Thu, 21 Jan 2016 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;We load our gems from &lt;a href=&quot;https://rubygems.org/&quot;&gt;Rubygems&lt;/a&gt;, but a lot of you may still be placing your JavaScripts into &lt;code&gt;vendor/assets/javascripts&lt;/code&gt;. Why not use &lt;a href=&quot;https://www.npmjs.com/&quot;&gt;npm&lt;/a&gt;? It&apos;s actually pretty easy to set up Rails to use npm.&lt;/p&gt;&lt;h2&gt;Use npm itself&lt;/h2&gt;&lt;p&gt;The best way to load npm packages in Rails is to use npm as your pipeline itself. &lt;a href=&quot;https://github.com/rstacruz/npm-pipeline-rails&quot;&gt;npm-pipeline-rails&lt;/a&gt; helps you do just that.&lt;/p&gt;&lt;p&gt;Don&apos;t want to switch away from the asset pipeline? That&apos;s fine, read on for an alternative approach.&lt;/p&gt;&lt;h2&gt;Alternative&lt;/h2&gt;&lt;h3&gt;Add &lt;code&gt;node_modules&lt;/code&gt; to your gitignore&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Because you don&apos;t want to commit those, just like you don&apos;t commit your gems.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;echo &apos;/node_modules&apos; &gt;&gt; .gitignore
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Create a &lt;code&gt;package.json&lt;/code&gt; in your project&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;This is the npm equivalent of a &lt;code&gt;Gemfile&lt;/code&gt;â€”it&apos;s where your packages are stored.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;npm init
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Add &lt;code&gt;node_modules&lt;/code&gt; to your asset path&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;This lets you use npm modules in your Sprockets assets. In &lt;code&gt;config/application.rb&lt;/code&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-rb&quot;&gt;module YourApp
  class Application &amp;#x3C; Rails::Application
    config.assets.paths &amp;#x3C;&amp;#x3C; Rails.root.join(&apos;node_modules&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Run &lt;code&gt;npm install&lt;/code&gt; on startup&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Rails (or Bundler) prevents you from starting itself when you have gems that aren&apos;t installed yet. To emulate that behavior for npm packages, do this in &lt;code&gt;config/initializers/npm.rb&lt;/code&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-rb&quot;&gt;system &apos;npm install&apos; if Rails.env.development? || Rails.env.test?
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Heroku: add Node.js support&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;If you&apos;re deploying to Heroku, the default Ruby buildpack doesn&apos;t include Node, which you need to use npm. Add both the Node.js and Ruby buildpacks:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;heroku bulidpacks:add &apos;https://github.com/heroku/heroku-buildpack-nodejs.git&apos;
heroku bulidpacks:add &apos;https://github.com/heroku/heroku-buildpack-ruby.git&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;Adding JavaScript packages&lt;/h2&gt;&lt;p&gt;You can only use node modules that come with a pre-built version in it. &lt;a href=&quot;https://modernizr.com/&quot;&gt;modernizr&lt;/a&gt; won&apos;t work. You can try &lt;a href=&quot;https://github.com/browserify-rails/browserify-rails&quot;&gt;browserify-rails&lt;/a&gt;.&lt;/p&gt;&lt;h3&gt;Use npm&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Use &lt;code&gt;npm install&lt;/code&gt; with &lt;code&gt;--save&lt;/code&gt; to add packages.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;npm install --save --save-exact modernizr
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Add to &lt;code&gt;application.js&lt;/code&gt;&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Then in your &lt;code&gt;application.js&lt;/code&gt;, require it like so:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;//= require onmount/onmount
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Selective polyfilling]]></title><description><![CDATA[Need to support legacy browsers, but don't want the full weight of  es5-shim  loaded for everyone? Sure, just load it for browsers that needâ€¦]]></description><link>https://ricostacruz.com/tilnext//selective-polyfilling/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//selective-polyfilling/</guid><pubDate>Sat, 02 Jan 2016 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;Need to support legacy browsers, but don&apos;t want the full weight of &lt;a href=&quot;https://github.com/es-shims/es5-shim&quot;&gt;es5-shim&lt;/a&gt; loaded for everyone? Sure, just load it for browsers that need it!
It should be easy enough to add more polyfills as you need them. You can also include some &lt;a href=&quot;ie-polyfills.html&quot;&gt;legacy IE polyfills&lt;/a&gt; to complete the experience.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&amp;#x3C;script&gt;(function(){function a(src){var s=document.createElement(&apos;script&apos;),r=document.getElementsByTagName(&apos;script&apos;)[0];s.src=src;s.type=&apos;text/javascript&apos;;r.parentNode.insertBefore(s,r)}
this.JSON||a(&apos;https://cdn.jsdelivr.net/json2/0.2/json2.min.js&apos;);
(Object.keys&amp;#x26;&amp;#x26;[].map&amp;#x26;&amp;#x26;alert.bind)||a(&apos;https://cdn.jsdelivr.net/es5.shim/4.4.1/es5-shim.min.js&apos;);
this.Promise||a(&apos;https://www.promisejs.org/polyfills/promise-6.1.0.js&apos;);
}())&amp;#x3C;/script&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;h3&gt;Also try Polyfill.io&lt;/h3&gt;&lt;p&gt;Alternatively, you can use the &lt;a href=&quot;https://polyfill.io/&quot;&gt;polyfill.io&lt;/a&gt; service which takes care of this for you and more.&lt;/p&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Use git merge-base for big merges]]></title><description><![CDATA[When trying to merge two Git branches that have diverged a lot, it's a little difficult to make sense of what happened on both sides. Enterâ€¦]]></description><link>https://ricostacruz.com/tilnext//using-git-merge-base/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//using-git-merge-base/</guid><pubDate>Thu, 10 Dec 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;When trying to merge two Git branches that have diverged a lot, it&apos;s a little difficult to make sense of what happened on both sides.&lt;/p&gt;&lt;p&gt;Enter &lt;a href=&quot;http://git-scm.com/docs/git-merge-base&quot;&gt;git merge-base&lt;/a&gt;--a simple built-in utility to tell you where two branches diverged. It will tell you the commit where the two branches split off:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ git merge-base develop master
b8ac838cad3266f6a7e414181875831fd9b86ed5
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;h3&gt;Set up git tags&lt;/h3&gt;&lt;p&gt;This command will create a tag &lt;code&gt;_base&lt;/code&gt; that will point to where they both diverged.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;git tag _base `git merge-base develop master`
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;h3&gt;Inspecting changes&lt;/h3&gt;&lt;p&gt;You can then use &lt;code&gt;git diff&lt;/code&gt;, &lt;code&gt;git log&lt;/code&gt;, or &lt;a href=&quot;https://jonas.nitro.dk/tig&quot;&gt;tig&lt;/a&gt; to inspect changes on either side:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# Inspect changes in Gemfile on each side
tig _base...develop -- Gemfile
tig _base...master -- Gemfile

git diff _base...develop -- Gemfile
git diff _base...master -- Gemfile
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;h3&gt;Check if both branches diverged&lt;/h3&gt;&lt;p&gt;You can also use the &lt;code&gt;--independent&lt;/code&gt; flag which will show commits that can&apos;t be reached by any other. If it prints 2 commits, it means that there are changes on both sides.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ git merge-base develop master --independent
46978182cc8d90439b862e772e99a3f71889901a
8501118e0d958115caff692abda0f29ad530db4f
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;p&gt;If it only prints 1, it means only one side has changes.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ git merge-base develop master --independent
8501118e0d958115caff692abda0f29ad530db4f
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Bundle your gems inside your project]]></title><description><![CDATA[When working on a Ruby project, I always put the files in  vendor/bundle/ . This has the benefit of having a greppable index of all the gemsâ€¦]]></description><link>https://ricostacruz.com/tilnext//use-vendor-bundle/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//use-vendor-bundle/</guid><pubDate>Mon, 22 Jun 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;When working on a Ruby project, I always put the files in &lt;code&gt;vendor/bundle/&lt;/code&gt;. This has the benefit of having a greppable index of all the gems of your project, while keeping your global gemset tidy.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;bundle install -j3 --path=vendor/bundle
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;p&gt;You only need to do this once in your project. The &lt;code&gt;--path&lt;/code&gt; setting will be persisted in your project&apos;s Bundler configuration (&lt;code&gt;.bundle/config&lt;/code&gt;).&lt;/p&gt;&lt;div&gt;&lt;next-block title=&quot;Why would we want to do this?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Inspecting your gems&lt;/h2&gt;&lt;p&gt;Doing this will make inspecting your gem code easier. This can be conveniently done with something like ack or &lt;a href=&quot;https://github.com/ggreer/the_silver_searcher&quot;&gt;the silver searcher&lt;/a&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cd vendor/bundle/ruby/*/gems
$ ag all_application_helpers

  actionpack-4.2.1/lib/action_controller/metal/helpers.rb
  106:   def all_application_helpers
&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;next-block title=&quot;How do we ignore this from all repos?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Globally ignoring&lt;/h2&gt;&lt;p&gt;I recommend placing &lt;code&gt;vendor/bundle/&lt;/code&gt; on a global gitignore. If you haven&apos;t set up a global gitignore list yet, it&apos;s pretty easy.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;git config --global core.excludesfile ~/.gitignore
echo vendor/bundle &gt;&gt; ~/.gitignore
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;Goodbye, rvm!&lt;/h2&gt;&lt;p&gt;This removes the need for managing gemsets via &lt;a href=&quot;http://rvm.io/&quot;&gt;rvm&lt;/a&gt;. In fact, if your project always uses the latest Ruby (which you also should, in my opinion!), you won&apos;t even need rvm at all.&lt;/p&gt;&lt;p&gt;Even if you don&apos;t use this tip, you actually don&apos;t need rvm gemsets at all. Bundler solves the same problem.&lt;/p&gt;&lt;div&gt;&lt;next-block title=&quot;Bonus: let&apos;s speed up our installations!&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;Parallel installs&lt;/h2&gt;&lt;p&gt;Bonus: the &lt;code&gt;-j3&lt;/code&gt; flag makes your installations faster by allowing 3 installs in parallel.&lt;/p&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Testing generated static sites]]></title><description><![CDATA[You can make a test script use  grep  and  test  to check for generated output. Since grep will die with an error code if it doesn't matchâ€¦]]></description><link>https://ricostacruz.com/tilnext//testing-static-sites/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//testing-static-sites/</guid><pubDate>Fri, 29 May 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;You can make a test script use &lt;code&gt;grep&lt;/code&gt; and &lt;code&gt;test&lt;/code&gt; to check for generated output. Since grep will die with an error code if it doesn&apos;t match anything, the test will be considered a failure.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;#!/usr/bin/env sh
set -o errexit # die on errors

grep &quot;&amp;#x3C;title&gt;&quot; _site/index.html &gt;/dev/null
grep display _site/style.css &gt;/dev/null
grep function _site/script.js &gt;/dev/null
test -f _site/image.jpg #check for file existence
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;h3&gt;Travis support&lt;/h3&gt;&lt;p&gt;You can even integrate these with your &lt;a href=&quot;http://travis-ci.org&quot;&gt;Travis-CI&lt;/a&gt; tests. (Learn more about build configuration from their &lt;a href=&quot;http://docs.travis-ci.com/user/build-configuration/&quot;&gt;documentation&lt;/a&gt;.)&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot;&gt;# .travis.yml
before_script: bundle exec jekyll build
script: ./test/test.sh
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;h3&gt;Makefiles&lt;/h3&gt;&lt;p&gt;Another good way is to use a &lt;code&gt;Makefile&lt;/code&gt; so you can simply use &lt;code&gt;make test&lt;/code&gt; to invoke tests.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;test: _site
    grep display _site/style.css &gt;/dev/null
    grep function _site/script.js &gt;/dev/null
    test -f _site/image.jpg #check for file existence

_site:
    bundle
    bundle exec jekyll build --safe
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Babel class inheritance in Internet Explorer]]></title><description><![CDATA[Class inheritance caveats When using class inheritance with Babel.js, keep in mind that IE10 and below are  not supported  by default. Babelâ€¦]]></description><link>https://ricostacruz.com/tilnext//babel-ie-class-inheritance/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//babel-ie-class-inheritance/</guid><pubDate>Tue, 26 May 2015 00:00:00 GMT</pubDate><content:encoded>&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;class Circle extends Shape {
  getArea() {
    return this.radius * Math.PI * 2
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Class inheritance caveats&lt;/h3&gt;
&lt;p&gt;When using class inheritance with Babel.js, keep in mind that IE10 and below are &lt;a href=&quot;http://babeljs.io/docs/advanced/caveats&quot;&gt;not supported&lt;/a&gt; by default. Babel&apos;s class inheritance relies on ___proto___ which is not available on legacy IE versions.&lt;/p&gt;
&lt;p&gt;Using &lt;em&gt;super&lt;/em&gt; is also not supported on IE8 and below, as it compiles down to using &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf&quot;&gt;Object.getPrototypeOf&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To get around these caveats, use the &lt;a href=&quot;http://babeljs.io/docs/advanced/transformers/spec/proto-to-assign/&quot;&gt;protoToAssign&lt;/a&gt; transformer to make inheritance work, along with loose mode on classes to enable support for &lt;code&gt;super&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;babel --optional spec.protoToAssign --loose es6.classes script.js
&lt;/code&gt;&lt;/pre&gt;</content:encoded></item><item><title><![CDATA[Speed up MacVim with Lua]]></title><description><![CDATA[It's always a good idea to install  MacVim  with Lua support.  Homebrew  does not compile with Lua support by default. This gets you theâ€¦]]></description><link>https://ricostacruz.com/tilnext//use-macvim-with-lua/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//use-macvim-with-lua/</guid><pubDate>Tue, 14 Apr 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;It&apos;s always a good idea to install &lt;a href=&quot;https://github.com/macvim-dev/macvim&quot;&gt;MacVim&lt;/a&gt; with Lua support. &lt;a href=&quot;http://brew.sh/&quot;&gt;Homebrew&lt;/a&gt; does not compile with Lua support by default. This gets you the benefit of a noticeably-faster &lt;a href=&quot;https://github.com/Shougo/unite.vim&quot;&gt;Unite.vim&lt;/a&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;brew install macvim --with-cscope --with-lua --override-system-vim --with-luajit --with-python3
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;p&gt;Also, the option &lt;code&gt;--override-system-vim&lt;/code&gt; will allow you to use &lt;code&gt;vim&lt;/code&gt; in the command line apart from the GUI... also a great idea!&lt;/p&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Relative paths in Jekyll]]></title><description><![CDATA[Jekyll  is a great static site tool. If you're using  GitHub Pages , it comes with it for free, making it a very useful tool for any publicâ€¦]]></description><link>https://ricostacruz.com/tilnext//relative-paths-in-jekyll/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//relative-paths-in-jekyll/</guid><pubDate>Fri, 13 Mar 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; is a great static site tool. If you&apos;re using &lt;a href=&quot;http://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt;, it comes with it for free, making it a very useful tool for any public blog or website. It comes, though, with one common problem that I&apos;ve yet to come across a good solution for: relative paths.&lt;/p&gt;&lt;div&gt;&lt;next-block title=&quot;Why are relative paths a problem?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;The problem&lt;/h2&gt;&lt;h3&gt;The mess of relative paths&lt;/h3&gt;&lt;p&gt;Let&apos;s say you have an innocent URL in your layout like the one below. This is a relative path, not an absolute one that begins with &lt;code&gt;/&lt;/code&gt;. It resolves based on wherever it&apos;s included from.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;#x3C;!-- _layouts/default.html --&gt;
&amp;#x3C;link href=&quot;assets/style.css&quot; rel=&quot;stylesheet&quot; /&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;p&gt;This works well in pages of your site placed in the root directory. Once you path one level deep though, you&apos;ll encounter problems.&lt;/p&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;From this page...&lt;/th&gt;
&lt;th&gt;Base&lt;/th&gt;
&lt;th&gt;Final URL&lt;/th&gt;
&lt;th align=&quot;right&quot;&gt;Result&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;/index.html&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/assets/style.css&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;Good âœ“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;/me.html&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/assets/style.css&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;Good âœ“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;/about/profile.html&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/about&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/about/assets/style.css&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;Wrong âœ—&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;&lt;!-- {.-wide} --&gt;&lt;div&gt;&lt;next-block title=&quot;How do we usually work around them?&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;A naive workaround&lt;/h2&gt;&lt;p&gt;One workaround is to use absolute paths by adding a &lt;code&gt;/&lt;/code&gt; in the beginning.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;#x3C;link href=&quot;/assets/style.css&quot; rel=&quot;stylesheet&quot; /&gt; ^
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;h3&gt;Why absolute URLs suck&lt;/h3&gt;&lt;p&gt;This works great for sites that live on its own domain. When your site will be hosted in a sub-directory (such as the case with &lt;a href=&quot;http://pages.github.com/&quot;&gt;GitHub Project Pages&lt;/a&gt;), this absolute path will not resolve to &lt;code&gt;/project/assets/style.css&lt;/code&gt; as you probably would have intended.&lt;/p&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;If your site is in...&lt;/th&gt;
&lt;th&gt;It resolves to...&lt;/th&gt;
&lt;th align=&quot;right&quot;&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;user.github.io/&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/assets/style.css&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;Good âœ“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;user.github.io/project/&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/assets/style.css&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;Wrong âœ—&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;&lt;!-- {.-wide} --&gt;&lt;div&gt;&lt;next-block title=&quot;Let&apos;s look at a better workaround.&quot;&gt;&lt;/next-block&gt;&lt;/div&gt;&lt;h2&gt;A better workaround&lt;/h2&gt;&lt;p&gt;This snippet below automatically determines the relative base and stores it in the variable &lt;code&gt;base&lt;/code&gt;. Place it in your partials path, and include the partial in your layouts.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;#x3C;!-- _includes/base.html --&gt;
{% assign base = &apos;&apos; %} {% assign depth = page.url | split: &apos;/&apos; | size | minus: 1
%} {% if depth &amp;#x3C;= 1 %}{% assign base = &apos;.&apos; %} {% elsif depth == 2 %}{% assign
base = &apos;..&apos; %} {% elsif depth == 3 %}{% assign base = &apos;../..&apos; %} {% elsif depth
== 4 %}{% assign base = &apos;../../..&apos; %}{% endif %}
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;h3&gt;Use it as a prefix&lt;/h3&gt;&lt;p&gt;You can then use it as a prefix to URLs, like the examples below. You don&apos;t need to &lt;code&gt;include&lt;/code&gt; it all the timeâ€”just include it once in your layouts and it will be available everywhere.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;{% include base.html %}
&amp;#x3C;link href=&quot;{{base}}/assets/style.css&quot; rel=&quot;stylesheet&quot; /&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;#x3C;a href=&quot;{{ base }}&quot;&gt;Back to home&amp;#x3C;/a&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;#x3C;a href=&quot;{{ base }}/about.html&quot;&gt;About me&amp;#x3C;/a&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;#x3C;a href=&quot;{{ base }}{{ post.url }}&quot;&gt;Read &quot;{{ post.title }}&quot;&amp;#x3C;/a&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Hosting static sites in Heroku]]></title><description><![CDATA[Just add an  index.php  to your repository.
It tells  Heroku  that the site is a PHP site and that it will be hosted using
Apache. And yesâ€¦]]></description><link>https://ricostacruz.com/tilnext//static-sites-in-heroku/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//static-sites-in-heroku/</guid><pubDate>Tue, 10 Mar 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Just add an &lt;code&gt;index.php&lt;/code&gt; to your repository.
It tells &lt;a href=&quot;http://heroku.com&quot;&gt;Heroku&lt;/a&gt; that the site is a PHP site and that it will be hosted using
Apache.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;touch index.php
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And yes, you can still have an &lt;code&gt;index.html&lt;/code&gt; file. The &lt;code&gt;.html&lt;/code&gt; file takes
precedence over the &lt;code&gt;.php&lt;/code&gt; one. Have fun!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Cleaner Mocha stack traces]]></title><description><![CDATA[Mocha  is a great way to test JavaScript, but its stack traces are riddled
with useless frames from Mocha internals and 3rd-party modulesâ€¦]]></description><link>https://ricostacruz.com/tilnext//mocha-clean/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//mocha-clean/</guid><pubDate>Fri, 06 Mar 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http://visionmedia.github.io/mocha&quot;&gt;Mocha&lt;/a&gt; is a great way to test JavaScript, but its stack traces are riddled
with useless frames from Mocha internals and 3rd-party modules. Let&apos;s try and
clean it up.&lt;/p&gt;&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tilnext/static/69a382b6d99d1e1b6f1c174378d7a313/3b462/comparison.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 970px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 45.25773195876289%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJ0lEQVQoz2VRi27DIAzs/3/jtG7LuoZgiHkFCNDsQh+LtJOFcOy72Mep1hpTyv+wbduyLNa50OG9d8/7PY0xntDnmUsp6wEppdYayCHE10d0HnsgsZMtUe7drdU9akUNSU6x5JhLqY8CKg+guv8Zgn7WJaV6QOmEiOloNMxrXqFXcz7QK+Y6YdyReJA8kEF8khHsYzcB2kYbJaS3LiCM9QmTlz8ykmm2gp3op3aLXXYDdyNj1KTEdcIJPmu2synel+BrdwTkVU2kpJ7Z2rBAemsN9mEr2MaS9CiY1DxJB2sgWnY8xy7loux54rM07xN/keWwD3dffZz921V/K4uNtAttu73Qn2pdpWaheKT5HpNi5zze2Vo7/Iwfl3G4CgQukkh1EBGe/RebSgUx0uOqOAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Comparison screenshot&quot;
        title=&quot;&quot;
        src=&quot;/tilnext/static/69a382b6d99d1e1b6f1c174378d7a313/3b462/comparison.png&quot;
        srcset=&quot;/tilnext/static/69a382b6d99d1e1b6f1c174378d7a313/87a8a/comparison.png 350w,
/tilnext/static/69a382b6d99d1e1b6f1c174378d7a313/faac4/comparison.png 700w,
/tilnext/static/69a382b6d99d1e1b6f1c174378d7a313/3b462/comparison.png 970w&quot;
        sizes=&quot;(max-width: 970px) 100vw, 970px&quot;
      /&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;&lt;!-- {.-wider} --&gt;&lt;h2&gt;Introducing mocha-clean&lt;/h2&gt;&lt;p&gt;&lt;code&gt;mocha-clean&lt;/code&gt; is a plugin for Mocha. It strips away mocha internals,
node_modules, absolute paths (based on cwd), and other unneccessary cruft
from stack traces.&lt;/p&gt;&lt;h3&gt;Usage&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Simply invoke Mocha with &lt;code&gt;-r mocha-clean&lt;/code&gt;. The easiest way to do this is to add it to your &lt;em&gt;test/mocha.opts&lt;/em&gt; file.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;--require mocha-clean
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Installation&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;It&apos;s available via npm, and works with Mocha 1.x in Node.js and in the browser. The source is available in GitHub: &lt;a href=&quot;https://github.com/rstacruz/mocha-clean&quot;&gt;rstacruz/mocha-clean&lt;/a&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;npm install --save-dev mocha-clean
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;Merging into Mocha?&lt;/h2&gt;&lt;p&gt;A pull request is currently open in Mocha to integrate this functionality into Mocha itself. Check out &lt;a href=&quot;https://github.com/mochajs/mocha/pull/1564&quot;&gt;#1564&lt;/a&gt; and offer your support and comments.&lt;/p&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Using ligatures in CSS]]></title><description><![CDATA[Enabling ligatures Headings can benefit from nice ligatures. Use the  font-feature-settings  CSS property to enable these OpenType featuresâ€¦]]></description><link>https://ricostacruz.com/tilnext//css-ligatures/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//css-ligatures/</guid><pubDate>Thu, 05 Mar 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;h3&gt;Enabling ligatures&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Headings can benefit from nice ligatures. Use the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/font-feature-settings&quot;&gt;font-feature-settings&lt;/a&gt; CSS property to enable these OpenType features. Here&apos;s a snippet to start you with:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.headings {
  /* don&apos;t display digraphs in languages that don&apos;t support it */
  font-language-override: normal;

  /* use font-defined kerning info */
  font-kerning: auto;

  /* opentype options: kerning, ligatures, horiz ligatures,
   * discretionary ligatures, contextual swash */
  font-feature-settings: &apos;kern&apos;, &apos;liga&apos;, &apos;dlig&apos;, &apos;hlig&apos;, &apos;cswh&apos;;

  /* allow browser to auto-infer missing glyphs */
  font-synthesis: weight style;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Example&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Here is what they would look like with EB Garamond. Be sure to also check &lt;a href=&quot;http://en.wikipedia.org/wiki/List_of_typographic_features&quot;&gt;List of OpenType features&lt;/a&gt; for more features you can use.&lt;/p&gt;&lt;figure&gt;
&lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/tilnext/static/a0bf23522bdc9caf19b5cae0683870fc/d5229/ligatures.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block;  max-width: 182px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 41.208791208791204%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqUlEQVQY06WQyQ6DMAxE+f9PRZEgG2RvnxjUFim3+uB4mRnbWV5/2KJnjFFKqbUSkPbeSVtrauWcqSimSCrYTQYaQti2TYgY477vx3GQxsvQJaYChlRaN5kqZGstcUpJIIYgaoyRynme67qK/FjbOUeVfYiZCQcvIe+9ROEQu8u+ZKBo09DNrAAHTwtPS6PE1BWPyVND4oNjZ3bBT357atysX8VYSp/0a2+PBdZWh/CHXAAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; alt=&quot;ligatures&quot; title=&quot;&quot; src=&quot;/tilnext/static/a0bf23522bdc9caf19b5cae0683870fc/d5229/ligatures.png&quot; srcset=&quot;/tilnext/static/a0bf23522bdc9caf19b5cae0683870fc/d5229/ligatures.png 182w&quot; sizes=&quot;(max-width: 182px) 100vw, 182px&quot;&gt;
  &lt;/span&gt;
  &lt;/a&gt;
&lt;/figure&gt;&lt;h2&gt;Use brick.im&lt;/h2&gt;&lt;p&gt;Fonts from Typekit and Google Web Fonts may be stripped of all these extra OpenType information. Use fonts from &lt;a href=&quot;http://brick.im/&quot;&gt;brick.im&lt;/a&gt; instead.&lt;/p&gt;&lt;h2&gt;Swashes&lt;/h2&gt;&lt;h3&gt;Using font-feature-settings&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;First letters can look good with swashes (eg, an &lt;code&gt;R&lt;/code&gt; with an extra long stem). Just be sure to turn this on on a as-needed basis since it may overlap with the rest of the text.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.headings:first-letter {
  font-feature-settings: &apos;kern&apos;, &apos;swsh&apos;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;Disabling ligatures&lt;/h2&gt;&lt;h3&gt;Using font-feature-settings&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;You can turn off ligatures using &lt;code&gt;font-feature-settings&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;font-feature-settings: &apos;liga&apos; 0;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Easy color computations]]></title><description><![CDATA[Stylus CLI Use  stylus 's CLI for easy color computations.  Stylus CLI is faster than Sass and has shorter syntax for color computationsâ€¦]]></description><link>https://ricostacruz.com/tilnext//easy-color-computations/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//easy-color-computations/</guid><pubDate>Tue, 03 Mar 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;h3&gt;Stylus CLI&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;&lt;strong&gt;Use &lt;a href=&quot;http://learnboost.github.io/stylus&quot;&gt;stylus&lt;/a&gt;&apos;s CLI for easy color computations.&lt;/strong&gt; Stylus CLI is faster than Sass and has shorter syntax for color computations.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ npm i -g stylus
$ stylus -i
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;h3&gt;Example&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Here&apos;s &lt;em&gt;lighten&lt;/em&gt; and &lt;em&gt;hue shift&lt;/em&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&gt; #aaa + 10%
=&gt; #b2b2b2

&gt; #ff0 - 10deg
=&gt; #ffd500
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;h3&gt;One-liner version&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Not quite as elegant, but it can be useful.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;echo &quot;*{a: #ff0 - 10deg}&quot; | stylus -p
* { a: #ffd500; }
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;h3&gt;Using Sass&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;If you need Sass for some reason, it also takes &lt;code&gt;-i&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;$ gem install sass
$ sass -i
&gt;&gt; darken(red, 10%)
#cc0000
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[ES6 class pitfalls]]></title><description><![CDATA[Decorated functions ES6 makes it easy to define classes, but you can't have decorated functions. For that, you'll still need to drop toâ€¦]]></description><link>https://ricostacruz.com/tilnext//es6-class-pitfalls/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//es6-class-pitfalls/</guid><pubDate>Wed, 25 Feb 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;class Shape {
  get area() {
    return this.width * this.height
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;h3&gt;Decorated functions&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;ES6 makes it easy to define classes, but you can&apos;t have decorated functions. For that, you&apos;ll still need to drop to using &lt;code&gt;prototype&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;Shape.prototype.iterate = memoize(function () {
  ...
})
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Non-method attributes&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Same with non-method attributes.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;Shape.prototype.template = require(&apos;fs&apos;).readFileSync(
  &apos;./template.html&apos;,
  &apos;utf-8&apos;
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Use Bower packages like npm packages]]></title><description><![CDATA[Napa  is a package that lets you install arbitrary projects (without package.json) into  node_modules . Bower packages are repos withoutâ€¦]]></description><link>https://ricostacruz.com/tilnext//use-bower-in-npm/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//use-bower-in-npm/</guid><pubDate>Mon, 23 Feb 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;https://www.npmjs.com/package/napa&quot;&gt;Napa&lt;/a&gt; is a package that lets you install arbitrary projects (without package.json) into &lt;code&gt;node_modules&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Bower packages are repos without package.json manifests. Hence, you can use Napa to use Bower packages as if they were npm packages... sort of.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;{
  &quot;scripts&quot;: {
    &quot;install&quot;: &quot;napa&quot;
  },
  &quot;napa&quot;: {
    &quot;hint&quot;: &quot;chinchang/hint.css#v1.3.1&quot;,
    &quot;colorbox&quot;: &quot;jackmoore/colorbox#1.5.9&quot;
  }
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;p&gt;Promising idea, but I&apos;d like to see it developed more. Some caveats as of 1.2.0:&lt;/p&gt;&lt;ul&gt;
&lt;li&gt;not compatible with &lt;code&gt;npm shrinkwrap&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;upgrading packages are not automatic&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Use Markdown for documentation]]></title><description><![CDATA[The most universal documentation "format" is a bunch of Markdown files inside a project's  doc/  directory. Here are some projects thatâ€¦]]></description><link>https://ricostacruz.com/tilnext//use-markdown-documentation/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//use-markdown-documentation/</guid><pubDate>Thu, 19 Feb 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;The most universal documentation &quot;format&quot; is a bunch of Markdown files inside a project&apos;s &lt;code&gt;doc/&lt;/code&gt; directory. Here are some projects that follow that convention:&lt;/p&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/iojs/io.js/tree/v1.x/doc/api&quot;&gt;io.js&lt;/a&gt; (and Node.js)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/LearnBoost/stylus/tree/master/docs&quot;&gt;stylus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppet/tree/master/docs&quot;&gt;puppet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/saltstack/salt/tree/develop/doc&quot;&gt;salt&lt;/a&gt; (uses .rst)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/pypa/pip/tree/develop/docs&quot;&gt;pip&lt;/a&gt; (uses .rst)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/npm/npm/tree/master/doc&quot;&gt;npm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/composer/composer/tree/master/doc&quot;&gt;composer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;!-- {.-bordered} --&gt;&lt;p&gt;In my opinion, &quot;a bunch of Markdown files&quot; is good because:&lt;/p&gt;&lt;ul&gt;
&lt;li&gt;It&apos;s easily viewable in GitHub&lt;/li&gt;
&lt;li&gt;It can be made into a Jekyll (GitHub pages) site easily&lt;/li&gt;
&lt;li&gt;It can be made into a Sphinx site easily&lt;/li&gt;
&lt;li&gt;It&apos;s a common documentation format that you can get some tools to generate to&lt;/li&gt;
&lt;/ul&gt;&lt;!-- {.-bordered} --&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[@extend sucks]]></title><description><![CDATA[What's with @extend? Using  @extend  in CSS preprocessors really suck... so use mixins instead. Consider this example. Using @extend Seemsâ€¦]]></description><link>https://ricostacruz.com/tilnext//extend-sucks/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//extend-sucks/</guid><pubDate>Mon, 16 Feb 2015 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;h3&gt;What&apos;s with @extend?&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Using &lt;code&gt;@extend&lt;/code&gt; in CSS preprocessors really suck... so use mixins instead. Consider this example.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;%antialias {
  text-rendering: optimizeLegibility !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Using @extend&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Seems innocent enough:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;h3 {
  @extend %antialias;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;With media queries&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Until you try it with media queries, then it won&apos;t work. Consider using mixins instead.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;@media (max-width: 300px) {
  h3 {
    @extend %antialias;
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Get started with Ansible in 2 minutes]]></title><description><![CDATA[Ansible  is a fantastic tool for provisioning servers. I personally prefer it over Chef, Puppet and Salt. Here's how to get an Ansibleâ€¦]]></description><link>https://ricostacruz.com/tilnext//get-started-with-ansible/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//get-started-with-ansible/</guid><pubDate>Wed, 27 Nov 2013 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http://ansible.com&quot;&gt;Ansible&lt;/a&gt; is a fantastic tool for provisioning servers. I personally prefer it over Chef, Puppet and Salt. Here&apos;s how to get an Ansible project started.&lt;/p&gt;&lt;h2&gt;Install Ansible&lt;/h2&gt;&lt;p&gt;Ansible is officially available via &lt;code&gt;pip&lt;/code&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;brew install ansible            # OSX
[sudo] pip install ansible      # elsewhere
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;h2&gt;Start your project&lt;/h2&gt;&lt;p&gt;Make the directory. Put this under version control, preferrably.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;~$ mkdir setup
~$ cd setup
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;h2&gt;Create an inventory file&lt;/h2&gt;&lt;p&gt;This is a list of hosts you want to manage, grouped into groups. (Hint: try
using 127.0.0.1 to deploy to your local machine)&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-dosini&quot;&gt;# ~/setup/hosts

[sites]
127.0.0.1
192.168.0.1
192.168.0.2
192.168.0.3
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;Create your first Playbook&lt;/h2&gt;&lt;p&gt;A playbook is just a YAML file.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot;&gt;# ~/setup/playbook.yml

- hosts: 127.0.0.1
  user: root
  tasks:
    - name: install nginx
      apt: pkg=nginx state=present

    - name: start nginx every bootup
      service: name=nginx state=started enabled=yes

    - name: do something in the shell
      shell: echo hello &gt; /tmp/abc.txt

    - name: install bundler
      gem: name=bundler state=latest
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;Run it&lt;/h2&gt;&lt;p&gt;Use the &lt;code&gt;ansible-playbook&lt;/code&gt; command.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;~/setup$ ls
hosts
playbook.yml
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-terminal} --&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot;&gt;~/setup$ ansible-playbook -i hosts playbook.yml
PLAY [all] ********************************************************************

GATHERING FACTS ***************************************************************
ok: [127.0.0.1]

TASK: [install nginx] *********************************************************
ok: [127.0.0.1]

TASK: [start nginx every bootup] **********************************************
ok: [127.0.0.1]
...
&lt;/code&gt;&lt;/pre&gt;&lt;!-- {.-wide} --&gt;&lt;h2&gt;Further reading&lt;/h2&gt;&lt;p&gt;Ansible&apos;s source is available via GitHub: &lt;a href=&quot;https://github.com/ansible/ansible&quot;&gt;ansible/ansible&lt;/a&gt;.&lt;/p&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://lowendbox.com/blog/getting-started-with-ansible/&quot;&gt;Getting Started With Ansible&lt;/a&gt; (lowendbox.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.ansible.com/modules.html&quot;&gt;Ansible Documentation&lt;/a&gt; (ansible.com)&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Easily make favicon.ico]]></title><description><![CDATA[To create  favicon.ico , you don't need anything other than ImageMagick. Creating icon files Use it to convert  .png 's into  .ico  (useâ€¦]]></description><link>https://ricostacruz.com/tilnext//easy-favicons/</link><guid isPermaLink="false">https://ricostacruz.com/tilnext//easy-favicons/</guid><pubDate>Mon, 07 Jan 2013 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;&lt;h3&gt;&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;To create &lt;code&gt;favicon.ico&lt;/code&gt;, you don&apos;t need anything other than ImageMagick.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;brew install imagemagick
sudo apt-get install imagemagick
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Creating icon files&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;Use it to convert &lt;code&gt;.png&lt;/code&gt;&apos;s into &lt;code&gt;.ico&lt;/code&gt; (use 32px and 16px sizes for retina compatibility).&lt;/p&gt;&lt;pre&gt;&lt;code&gt;convert favicon-32.png favicon-16.png favicon.ico
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Resizing icons&lt;/h3&gt;&lt;!-- {.-literate-style} --&gt;&lt;p&gt;You can even use it to generate a 16px version from a 32px:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;convert favicon-32.png -resize 16x16 favicon16.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item></channel></rss>